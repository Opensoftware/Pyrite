/!\ FAILSAFE /!\  Sun Feb 03 13:16:08 +0100 2013
  Status: 500 Internal Server Error
  no such file to load -- sqlite3
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `gem_original_require'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `require'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:182:in `require'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:182:in `require'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/core_ext/kernel/requires.rb:7:in `require_library_or_gem'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/core_ext/kernel/reporting.rb:11:in `silence_warnings'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activesupport-2.3.15/lib/active_support/core_ext/kernel/requires.rb:5:in `require_library_or_gem'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite3_adapter.rb:10:in `sqlite3_connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `send'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:223:in `new_connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:245:in `checkout_new_connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:188:in `checkout'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `loop'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:184:in `checkout'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/monitor.rb:242:in `synchronize'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:183:in `checkout'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:98:in `connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:326:in `retrieve_connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_specification.rb:123:in `retrieve_connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_specification.rb:115:in `connection'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/lock.rb:11:in `synchronize'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rack-1.1.5/lib/rack/handler/webrick.rb:14:in `run'
    /home/mtfk/.rvm/gems/ruby-1.8.7-p334@siatka_old/gems/rails-2.3.15/lib/commands/server.rb:111
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `gem_original_require'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:36:in `require'
    script/server:3


Processing MainController#index (for 127.0.0.1 at 2013-02-03 14:30:03) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms" GROUP BY numer[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms"  GROUP BY numer) on line #11 of app/views/main/index.rhtml:
8:   <td> Rezerwacje: </td>
9:   	<td>
10:   	<% form_tag '/main/rezerwacje', {:method => 'get'} do %>
11: 	<%= collection_select(:room,:sala, Room.find(:all, :group => "numer").sort {|x,y| x.numer.to_i <=> y.numer.to_i}, :numer, :numer, {:prompt => "Wybierz sale"}) %>
12: <%= submit_tag "PokaÅ¼" %><% end %>
13: 	</td>
14:   <td></td>

    app/views/main/index.rhtml:11:in `_run_rhtml_app47views47main47index46rhtml'
    app/views/main/index.rhtml:10:in `_run_rhtml_app47views47main47index46rhtml'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (56.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (180.5ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (158.0ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlans (3)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateRooms (4)
  [4;35;1mSQL (1.3ms)[0m   [0mCREATE TABLE "rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "godz" varchar(255), "dni" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to CreateGroups (5)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "liczba" int, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to CreateLecturers (6)
  [4;35;1mSQL (1.2ms)[0m   [0mCREATE TABLE "lecturers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "lecture" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to CreateDepartments (7)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "departments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "nazwa_f" varchar(255), "wydzial" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to CreateBuildings (8)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "buildings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to CreateSubjects (9)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "katedra" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to CreateUsers (10)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "email" varchar(255), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(255), "remember_token_expires_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to CreateRoles (11)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "roles_users" ("user_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "authorizable_type" varchar(40), "authorizable_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to CreateReservations (12)
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AddNewColumnToPlan (13)
  [4;36;1mSQL (1.2ms)[0m   [0;1mALTER TABLE "plans" ADD "wazneod" date[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "plans" ADD "waznedo" date[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to AddNewTable (20090105210400)
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "groups" ADD "rok" integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "groups" ADD "kurs" varchar(255)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "groups" ADD "kierunek" varchar(255)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "groups" ADD "grupa" integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "groups" ADD "podgrupa" integer[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090105210400')[0m
Migrating to AddNewTypeForSala (20090105225005)
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime, "wazneod" date, "waznedo" date) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("plans")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "plans"[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" varchar(255), "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime, "wazneod" date, "waznedo" date) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_plans")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "altered_plans"[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090105225005')[0m
Migrating to CreateSettings (20090202143425)
  [4;36;1mSQL (1.4ms)[0m   [0;1mCREATE TABLE "settings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "current_plan" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202143425')[0m
Migrating to CreateOldPlans (20090202150455)
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE TABLE "old_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" int, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202150455')[0m
Migrating to CreateNewPlans (20090202150505)
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "new_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" int, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090202150505')[0m
Migrating to AddNewColumnToSettings (20090207003344)
  [4;36;1mSQL (1.3ms)[0m   [0;1mALTER TABLE "settings" ADD "plan_to_edit" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090207003344')[0m
Migrating to CreateFreedays (20090210212623)
  [4;36;1mSQL (1.0ms)[0m   [0;1mCREATE TABLE "freedays" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start" datetime, "stop" datetime, "nazwa" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090210212623')[0m
Migrating to ChangeTypeRoomReservation (20090211004504)
  [4;36;1mSQL (0.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePlans (3)
Migrating to CreateRooms (4)
Migrating to CreateGroups (5)
Migrating to CreateLecturers (6)
Migrating to CreateDepartments (7)
Migrating to CreateBuildings (8)
Migrating to CreateSubjects (9)
Migrating to CreateUsers (10)
Migrating to CreateRoles (11)
Migrating to CreateReservations (12)
Migrating to AddNewColumnToPlan (13)
Migrating to AddNewTable (20090105210400)
Migrating to AddNewTypeForSala (20090105225005)
Migrating to CreateSettings (20090202143425)
Migrating to CreateOldPlans (20090202150455)
Migrating to CreateNewPlans (20090202150505)
Migrating to AddNewColumnToSettings (20090207003344)
Migrating to CreateFreedays (20090210212623)
Migrating to ChangeTypeRoomReservation (20090211004504)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (176.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (175.3ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreatePlans (3)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('3')[0m
Migrating to CreateRooms (4)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "godz" varchar(255), "dni" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('4')[0m
Migrating to CreateGroups (5)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "liczba" int, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('5')[0m
Migrating to CreateLecturers (6)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "lecturers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar(255), "lecture" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('6')[0m
Migrating to CreateDepartments (7)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "departments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "nazwa_f" varchar(255), "wydzial" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('7')[0m
Migrating to CreateBuildings (8)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "buildings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('8')[0m
Migrating to CreateSubjects (9)
  [4;35;1mSQL (0.9ms)[0m   [0mCREATE TABLE "subjects" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "katedra" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('9')[0m
Migrating to CreateUsers (10)
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login" varchar(255), "email" varchar(255), "crypted_password" varchar(40), "salt" varchar(40), "created_at" datetime, "updated_at" datetime, "remember_token" varchar(255), "remember_token_expires_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('10')[0m
Migrating to CreateRoles (11)
  [4;36;1mSQL (0.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "roles_users" ("user_id" integer, "role_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(40), "authorizable_type" varchar(40), "authorizable_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('11')[0m
Migrating to CreateReservations (12)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" int, "waznosc" datetime, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('12')[0m
Migrating to AddNewColumnToPlan (13)
  [4;35;1mSQL (1.2ms)[0m   [0mALTER TABLE "plans" ADD "wazneod" date[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "plans" ADD "waznedo" date[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('13')[0m
Migrating to AddNewTable (20090105210400)
  [4;36;1mSQL (0.9ms)[0m   [0;1mALTER TABLE "groups" ADD "rok" integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "groups" ADD "kurs" varchar(255)[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "groups" ADD "kierunek" varchar(255)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mALTER TABLE "groups" ADD "grupa" integer[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mALTER TABLE "groups" ADD "podgrupa" integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090105210400')[0m
Migrating to AddNewTypeForSala (20090105225005)
  [4;36;1mSQL (1.2ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime, "wazneod" date, "waznedo" date) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("plans")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "plans"[0m
  [4;35;1mSQL (0.8ms)[0m   [0mCREATE TABLE "plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" varchar(255), "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime, "wazneod" date, "waznedo" date) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_plans")[0m
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "altered_plans"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090105225005')[0m
Migrating to CreateSettings (20090202143425)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "settings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "current_plan" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090202143425')[0m
Migrating to CreateOldPlans (20090202150455)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "old_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" int, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090202150455')[0m
Migrating to CreateNewPlans (20090202150505)
  [4;35;1mSQL (1.1ms)[0m   [0mCREATE TABLE "new_plans" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "katedra" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" int, "czestotliwosc" integer, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090202150505')[0m
Migrating to AddNewColumnToSettings (20090207003344)
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "settings" ADD "plan_to_edit" integer[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090207003344')[0m
Migrating to CreateFreedays (20090210212623)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "freedays" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "start" datetime, "stop" datetime, "nazwa" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090210212623')[0m
Migrating to ChangeTypeRoomReservation (20090211004504)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" integer, "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "waznosc" datetime, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("reservations")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "reservations"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "godz" varchar(255), "dni" varchar(255), "prowadzacy" varchar(255), "budynek" varchar(255), "sala" varchar(255), "grupa" varchar(255), "przedmiot" varchar(255), "rodzaj" varchar(255), "dlugosc" integer, "waznosc" datetime, "uwagi" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_reservations")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_reservations"[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090211004504')[0m
Migrating to AddColumnToRooms (20090222091849)
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "rooms" ADD "ilosc_miejsc" integer[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "rooms" ADD "budynek_id" integer[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mALTER TABLE "rooms" ADD "uwagi" integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090222091849')[0m
Migrating to RemoveOldColumnsFromRooms (20090222091909)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "godz" varchar(255), "dni" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime, "ilosc_miejsc" integer, "budynek_id" integer, "uwagi" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("rooms")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mDROP TABLE "rooms"[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TABLE "rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "dni" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime, "ilosc_miejsc" integer, "budynek_id" integer, "uwagi" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_rooms")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_rooms"[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "dni" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime, "ilosc_miejsc" integer, "budynek_id" integer, "uwagi" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("rooms")[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDROP TABLE "rooms"[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "rooms" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "numer" varchar(255), "opiekun" varchar(255), "rodzaj" varchar(255), "created_at" datetime, "updated_at" datetime, "ilosc_miejsc" integer, "budynek_id" integer, "uwagi" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_rooms")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_rooms"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090222091909')[0m
Migrating to AddPlansGroupTable (20090306210824)
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "groups_plans" ("group_id" integer, "plan_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090306210824')[0m
Migrating to CreateSchedules (20090308182228)
  [4;36;1mSQL (0.9ms)[0m   [0;1mCREATE TABLE "schedules" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "nazwa" varchar(255), "rok" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090308182228')[0m
Migrating to AddColumnToPlan (20090308184329)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: Cannot add a NOT NULL column with default value NULL: ALTER TABLE "plans" ADD "plan_id" integer NOT NULL[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePlans (3)
Migrating to CreateRooms (4)
Migrating to CreateGroups (5)
Migrating to CreateLecturers (6)
Migrating to CreateDepartments (7)
Migrating to CreateBuildings (8)
Migrating to CreateSubjects (9)
Migrating to CreateUsers (10)
Migrating to CreateRoles (11)
Migrating to CreateReservations (12)
Migrating to AddNewColumnToPlan (13)
Migrating to AddNewTable (20090105210400)
Migrating to AddNewTypeForSala (20090105225005)
Migrating to CreateSettings (20090202143425)
Migrating to CreateOldPlans (20090202150455)
Migrating to CreateNewPlans (20090202150505)
Migrating to AddNewColumnToSettings (20090207003344)
Migrating to CreateFreedays (20090210212623)
Migrating to ChangeTypeRoomReservation (20090211004504)
Migrating to AddColumnToRooms (20090222091849)
Migrating to RemoveOldColumnsFromRooms (20090222091909)
Migrating to AddPlansGroupTable (20090306210824)
Migrating to CreateSchedules (20090308182228)
Migrating to AddColumnToPlan (20090308184329)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "plans" ADD "plan_id" integer DEFAULT '' NOT NULL[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090308184329')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("buildings")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("departments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("freedays")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("groups")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("groups_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("lecturers")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("new_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("old_plans")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("reservations")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("roles")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("roles_users")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("rooms")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schedules")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("settings")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("subjects")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing MainController#index (for 127.0.0.1 at 2013-02-03 14:33:34) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m

ActionView::TemplateError (undefined method `current_plan' for nil:NilClass) on line #27 of app/views/layouts/main.html.erb:
24: 				</td>
25: 				<td rowspan="2">
26: 					<p><b>System Siatka</b> sÅuÅ¼y do tworzenia i przeglÄdania planÃ³w zajÄÄ na Wydziale Geologii, Geofizyki i Ochrony Årodowiska,</br> zostaÅ wykonany przez koÅo naukowe <%= link_to "Geos Informatica", "http://www.informatica.agh.edu.pl" %>.</p>
27: 					<p> SIATKA NA SEMESTR: <%= Schedule.find_by_id(Setting.first.current_plan).semestr_rok %> </p>
28: 				</td>
29: 			</tr>
30: 		</table>

    app/views/layouts/main.html.erb:27
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 14:43:19) [GET]

MissingSourceFile (no such file to load -- tcpdf):
  app/controllers/siatka_controller.rb:3
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /home/mtfk/.rvm/rubies/ruby-1.8.7-p334/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (31.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 14:44:25) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:27: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:27: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:27: syntax error, unexpected $end, expecting keyword_end
     @r = %w{W Äw Lab}
                 ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 14:44:25 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 14:45:27) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:210: syntax error, unexpected ':', expecting keyword_then or ',' or ';' or '\n'
				when 0 : @baza = OldPlan
				        ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:211: syntax error, unexpected keyword_when, expecting keyword_end
				when 1 : @baza = Plan
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:212: syntax error, unexpected keyword_when, expecting keyword_end
				when 2 : @baza = NewPlan
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/siatka_controller.rb:1219: syntax error, unexpected keyword_end, expecting $end):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 14:46:58) [GET]

NoMethodError (undefined method `auto_complete_for' for SiatkaController:Class):
  app/controllers/siatka_controller.rb:6:in `<class:SiatkaController>'
  app/controllers/siatka_controller.rb:2:in `<top (required)>'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (17.7ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:49:02) [GET]

NoMethodError (undefined method `login_required' for #<SiatkaController:0x00000001a85768>):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:49:10) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x000000020e8538>) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (15.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
/!\ FAILSAFE /!\  2013-02-03 14:50:01 +0100
  Status: 500 Internal Server Error
  /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:133: syntax error, unexpected ':', expecting keyword_then or ',' or ';' or '\n'
				when "Mon" : @day = "pon"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:134: syntax error, unexpected keyword_when, expecting keyword_end
				when "Tue" : @day = "wto"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:134: syntax error, unexpected ':', expecting keyword_end
				when "Tue" : @day = "wto"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:135: syntax error, unexpected keyword_when, expecting keyword_end
				when "Wed" : @day = "sro"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:135: syntax error, unexpected ':', expecting keyword_end
				when "Wed" : @day = "sro"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:136: syntax error, unexpected keyword_when, expecting keyword_end
				when "Thu" : @day = "czw"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:136: syntax error, unexpected ':', expecting keyword_end
				when "Thu" : @day = "czw"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:137: syntax error, unexpected keyword_when, expecting keyword_end
				when "Fri" : @day = "pia"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:137: syntax error, unexpected ':', expecting keyword_end
				when "Fri" : @day = "pia"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:138: syntax error, unexpected keyword_when, expecting keyword_end
				when "Sat" : @day = "sob"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:138: syntax error, unexpected ':', expecting keyword_end
				when "Sat" : @day = "sob"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:139: syntax error, unexpected keyword_when, expecting keyword_end
				when "Sun" : @day = "nie"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:139: syntax error, unexpected ':', expecting keyword_end
				when "Sun" : @day = "nie"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:173: syntax error, unexpected keyword_end, expecting $end
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:406:in `load'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:406:in `block in load_file'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:405:in `load_file'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:285:in `require_or_load'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:451:in `load_missing_constant'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:106:in `const_missing_with_dependencies'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:118:in `const_missing'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:89:in `rescue in dispatch'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:96:in `dispatch'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
/!\ FAILSAFE /!\  2013-02-03 14:51:21 +0100
  Status: 500 Internal Server Error
  /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:134: syntax error, unexpected ':', expecting keyword_then or ',' or ';' or '\n'
				when "Mon" : @day = "pon"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:135: syntax error, unexpected keyword_when, expecting keyword_end
				when "Tue" : @day = "wto"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:135: syntax error, unexpected ':', expecting keyword_end
				when "Tue" : @day = "wto"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:136: syntax error, unexpected keyword_when, expecting keyword_end
				when "Wed" : @day = "sro"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:136: syntax error, unexpected ':', expecting keyword_end
				when "Wed" : @day = "sro"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:137: syntax error, unexpected keyword_when, expecting keyword_end
				when "Thu" : @day = "czw"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:137: syntax error, unexpected ':', expecting keyword_end
				when "Thu" : @day = "czw"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:138: syntax error, unexpected keyword_when, expecting keyword_end
				when "Fri" : @day = "pia"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:138: syntax error, unexpected ':', expecting keyword_end
				when "Fri" : @day = "pia"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:139: syntax error, unexpected keyword_when, expecting keyword_end
				when "Sat" : @day = "sob"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:139: syntax error, unexpected ':', expecting keyword_end
				when "Sat" : @day = "sob"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:140: syntax error, unexpected keyword_when, expecting keyword_end
				when "Sun" : @day = "nie"
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:140: syntax error, unexpected ':', expecting keyword_end
				when "Sun" : @day = "nie"
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/application_controller.rb:174: syntax error, unexpected keyword_end, expecting $end
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:406:in `load'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:406:in `block in load_file'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:547:in `new_constants_in'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:405:in `load_file'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:285:in `require_or_load'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:451:in `load_missing_constant'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:106:in `const_missing_with_dependencies'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/dependencies.rb:118:in `const_missing'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:89:in `rescue in dispatch'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:96:in `dispatch'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
    /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  [4;36;1mRoom Load (1.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:52:33) [GET]

NoMethodError (undefined method `login_required' for #<SiatkaController:0x000000021ec498>):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:52:53) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x0000000255d398>) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (38.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:54:02) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x00000002466368>) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:54:03) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x000000023fe920>) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (15.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:58:30) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0x00000001ad9340>) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (16.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 14:59:59) [GET]
Rendering template within layouts/siatka
Rendering siatka/index

ActionView::TemplateError (undefined method `has_role?' for nil:NilClass) on line #11 of app/views/siatka/index.rhtml:
8: <tr>
9: 	<td>
10: 		<ul>
11: 			<% if (current_user.has_role? 'admin') %>
12: 			<li><p>	
13: 				<%= link_to("Uprawnienia", {:controller => 'siatka', :action => 'admin'}) %>
14: 				<% end %> </p></li>

    app/views/siatka/index.rhtml:11:in `_run_rhtml_app47views47siatka47index46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (17.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 15:06:01) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m

ActionView::TemplateError (undefined method `current_plan' for nil:NilClass) on line #27 of app/views/layouts/siatka.html.erb:
24: 				</td>
25: 				<td rowspan="2">
26: 					<p><b>System Siatka</b> sÅuÅ¼y do tworzenia i przeglÄdania planÃ³w zajÄÄ na Wydziale Geologii, Geofizyki i Ochrony Årodowiska,</br> zostaÅ wykonany przez koÅo naukowe <%= link_to "Geos Informatica", "http://www.informatica.agh.edu.pl" %>.</p>
27: 					<p> SIATKA NA SEMESTR: <%= Schedule.find_by_id(Setting.first.current_plan).semestr_rok %> </p>
28: 				</td>
29: 			</tr>
30: 		</table>

    app/views/layouts/siatka.html.erb:27
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (38.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 15:06:21) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m

ActionView::TemplateError (undefined method `current_plan' for nil:NilClass) on line #27 of app/views/layouts/siatka.html.erb:
24: 				</td>
25: 				<td rowspan="2">
26: 					<p><b>System Siatka</b> sÅuÅ¼y do tworzenia i przeglÄdania planÃ³w zajÄÄ na Wydziale Geologii, Geofizyki i Ochrony Årodowiska,</br> zostaÅ wykonany przez koÅo naukowe <%= link_to "Geos Informatica", "http://www.informatica.agh.edu.pl" %>.</p>
27: 					<p> SIATKA NA SEMESTR: <%= Schedule.find_by_id(Setting.first.current_plan).semestr_rok %> </p>
28: 				</td>
29: 			</tr>
30: 		</table>

    app/views/layouts/siatka.html.erb:27
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (40.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 15:07:21) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 38ms (View: 35, DB: 2) | 200 OK [http://localhost/siatka]


Processing ApplicationController#render_404 (for 127.0.0.1 at 2013-02-03 15:07:21) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: syntax error, unexpected $end, expecting keyword_end
      @t = "ZajÄcia prowadzone przez katedrÄ...
                 ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 15:07:21 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing ApplicationController#render_404 (for 127.0.0.1 at 2013-02-03 15:07:21) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: syntax error, unexpected $end, expecting keyword_end
      @t = "ZajÄcia prowadzone przez katedrÄ...
                 ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 15:07:21 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:07:31) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 43ms (View: 41, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 15:07:35) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
ERROR: compiling _run_rhtml_app47views47siatka47add46rhtml RAISED /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:UTF-8
          def _run_rhtml_app47views47siatka47add46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( stylesheet_link_tag 'plany' ).to_s); @output_buffer.concat "\n\n<h2> Dodanie wpisu </h2>\n<div align=\"center\" class=\"flashinfo\">\n<table>\n<tr>\n"





;  if !flash[:error].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'close32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  elsif !flash[:notice].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'accept32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  else ; @output_buffer.concat "\n\t<td> </td>\n"

;  end ; @output_buffer.concat "\n  <td><p>"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( error_messages_for :plan ).to_s); @output_buffer.concat "</p>\n\t</td>\n</tr>\n</table>\n</div>\n<div>\n\t"





;  form_tag 'adding',{ :id => "edycjaplanow"}  do ; @output_buffer.concat "\n        "
;  @dodaj.godz = params[:godz] ; @output_buffer.concat "\n        "
;  @dodaj.dlugosc = params[:dlugosc] ; @output_buffer.concat "\n        "
;  @dodaj.dni = params[:dni] ; @output_buffer.concat "\n        "
;  @dodaj.rodzaj = params[:rodzaj] ; @output_buffer.concat "\n        "
;  @dodaj.czestotliwosc = params[:czestotliwosc] ; @output_buffer.concat "\n        "
;  @dodaj.grupa = params[:grupa] ; @output_buffer.concat "\n        "
;  @dodaj.katedra = params[:katedra] ; @output_buffer.concat "\n        "
;  @dodaj.budynek = params[:budynek] ; @output_buffer.concat "\n        "
;  @dodaj.uwagi = params[:uwagi] ; @output_buffer.concat "\n\n<center>\n<table class=\"formularz\">\n<tr>\n\t<td rowspan=3>\n\t\t"





; @output_buffer.concat(( collection_select(:dodaj, :grupa, Group.find(:all, :group => "nazwa"), :nazwa, :nazwa, {:prompt => "Wybierz grupe"}, :multiple => true, :size => 7) ).to_s); @output_buffer.concat "\n\t</td>\n\t<td class=\"label\">Godzina</td>\n\t<td>"


; @output_buffer.concat(( select :dodaj, :godz, @listagodz).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Prowadz\xC4\x85cy:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Sala</td>\n\t<td>\n\t\t<div style=\"width: 150px\"> "


; @output_buffer.concat(( text_field_with_auto_complete :room, :numer, { :value => params[:sala], :size => 5},{:method => :get, :min_chars => 0 } ).to_s); @output_buffer.concat "</div>\n\t</td>\n\t<td class=\"label\">D\xC5\x82ugo\xC5\x9B\xC4\x87 zaj\xC4\x99\xC4\x87:</td>\n\t<td>"


; @output_buffer.concat(( select(:dodaj, :dlugosc, @dlugosc, :selected => @dodaj.dlugosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Dzie\xC5\x84</td>\n  <td> "



; @output_buffer.concat(( select(:dodaj, :dni, @dni) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Przedmiot:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :subject, :nazwa, { :value => params[:przedmiot], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Rodzaj zaj\xC4\x99\xC4\x87:</td>\n  <td> "

; @output_buffer.concat(( select(:dodaj, :rodzaj, @r) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Cz\xC4\x99stotliwo\xC5\x9B\xC4\x87 zaj\xC4\x99c:</td>\n\t<td>"

; @output_buffer.concat(( select(:dodaj, :czestotliwosc, @czest, :selected => @dodaj.czestotliwosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Katedra</td>\n\t<td>"



; @output_buffer.concat(( collection_select(:dodaj,:katedra, Department.find(:all), :nazwa, :nazwa, {:prompt => "Wybierz katedre"}) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Budynek:</td>\n\t<td>"

; @output_buffer.concat(( collection_select(:dodaj,:budynek,Building.find(:all).sort {|a,b| a.nazwa <=> b.nazwa}, :nazwa, :nazwa) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Uwagi:</td>\n\t<td>"

; @output_buffer.concat(( text_field 'dodaj', 'uwagi', :size => 20).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n</tr>\n</table></center>\n\t"




; @output_buffer.concat(( submit_tag "WyÅlij" ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</div>\n<br />\n\n\n"




; @output_buffer.concat(( observe_form :edycjaplanow,
		:frequency => 1,
		:update => "Eplany",
		:complete => "Element.show('Eplany')",
		:url => { :action => "preview" }
).to_s); @output_buffer.concat "\n\n<div id=\"Eplany\">\n<table border=0 width=\"100%\" id=\"glowny\">\n<tr>\n<td width=\"50%\">\n\nSala: "






; @output_buffer.concat(( params[:sala] ).to_s); @output_buffer.concat "\n</td>\n<td width=\"50%\">\nGrupa: "


; @output_buffer.concat(( params[:grupa] ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td width=\"50%\">\n\n    <table class=\"plan\">\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n         <th>Pon</th>\n         <th>Wtorek</th>\n         <th>\xC5\x9Aroda</th>\n         <th>Czwartek</th>\n         <th>Pi\xC4\x85tek</th>\n\t</tr>\n\t"














;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n       "
;  if @j == 1 ; @output_buffer.concat "\n\t        <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "</td>\n\t \t   "
;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n       "
;  @dl = @qwe1[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t\t\t "
;  @blok += 1 ; @output_buffer.concat "\n\t\t\t   "
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t\t \t "
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td "
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat " rowspan=\""; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\t\t\t  \t <table class=\"blokinfo\" >\n\t\t\t\t\t\t<tr height=15px><td class=\"head_info\">"

; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t\t\t\t\t<span class=\"left\">\n\t\t\t\t\t\t\t "


;  for i in @dl ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  if i.include?("gr.") ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
; @output_buffer.concat(( i ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n \t\t\t\t\t\t\t</span>\n\t\t\t\t\t <span class=\"right\">"

;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t</td>\n \t\t\t\t\t</tr>\n\t\t\t\t </table>\n\n\t     </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t\t\t"
;  else ; @output_buffer.concat "\n\t\t\t\t<td class=\"blokpusty\"></td>\n\t\t\t\t"

; end; @output_buffer.concat "\n\t    "
;  end ; @output_buffer.concat "\n  \t\t"
;  end ; @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n\n </td>\n <td width=\"50%\">\n    <table class=\"plan\">\n\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n            <th>Pon</th>\n            <th>Wtorek</th>\n            <th>\xC5\x9Aroda</th>\n            <th>Czwartek</th>\n            <th>Pi\xC4\x85tek</th>\n\t</tr>\n\n\t"
















;  @i = 3 ; @output_buffer.concat "\n\t"
;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n           "
;  if @j == 1 ; @output_buffer.concat "\n\t    <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "\n\t    </td>\n\t   "

;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n             "
;  @dl = @qwe[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t"
;  @blok += 1 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td\n\t       "

;  if !@dl[5].include?("rezerwacja") ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat "\n\t\t"
;  else ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-wr'" : "class='blok-cwr'" ).to_s); @output_buffer.concat "\n\t\t"
;  end ; @output_buffer.concat "\n\t\trowspan=\""
; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\n\t\t\t<table class=\"blokinfo\" >\n\t\t\t\t<tr height=15px><td class=\"head_info\">"


; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t<span class=\"left\">"

; @output_buffer.concat(( @dl[1] ).to_s); @output_buffer.concat "</span>\n\t\t\t<span class=\"right\">"
;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t                  </td>\n \t\t\t\t</tr>\n\t\t\t</table>\n\n\t       </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t<td class=\"blokpusty\"></td>\n\t\t"

; end; @output_buffer.concat "\n\t     "
;  end ; @output_buffer.concat "\n\n        "

;  end ; @output_buffer.concat "\n\n\n\t"


;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n </td>\n</table>\n\n\n</div>\n"







; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `module_eval'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `compile!'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:61:in `compile'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:28:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1334:in `perform_action'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end) on line #201 of app/views/siatka/add.rhtml:
198: 			</table>
199: 
200: 	       </td>
201: 	     <% else %>
202: 		<% if @blok_ln[dn] != 0  %>
203: 			<% @blok_ln[dn] -= 1 %>
204: 			<!--<td>#<%= @blok %> <%= @blok_ln %></td>-->

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (18.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 15:07:38) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x000000035f3dd8>):
  app/controllers/siatka_controller.rb:165:in `admin'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (19.4ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 15:07:40) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x000000032b19b8>):
  app/controllers/siatka_controller.rb:1026:in `konfiguracja'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (1.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:07:54) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.8ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:04) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:13) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:24) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 11ms (View: 5, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:33) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:44) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 65ms (View: 59, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:08:53) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:04) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:14) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:24) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 10ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:34) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.5ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:44) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:09:54) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.5ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:04) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 10ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:13) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.5ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:24) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:33) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:43) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 24ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:10:54) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:11:03) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:11:14) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:11:23) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 15:11:34) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 15:11:34) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/main_controller.rb:253: syntax error, unexpected $end, expecting keyword_end
      @t = "ZajÄcia prowadzone przez katedrÄ...
                 ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 15:11:34 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 15:12:06) [GET]

LoadError (cannot load such file -- main_helper.rb):
  app/controllers/main_controller.rb:2:in `<top (required)>'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (18.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#index (for 127.0.0.1 at 2013-02-03 15:13:38) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (1.4ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 106ms (View: 102, DB: 3) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 15:13:38) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 5ms (View: 2, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 15:13:38) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:03:59) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.9ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 90ms (View: 50, DB: 2) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:03:59) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:03:59) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:04:18) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.9ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 94ms (View: 89, DB: 2) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:04:18) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 4ms (View: 2, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:04:19) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 4ms (View: 2, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:35:34) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 62ms (View: 59, DB: 2) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:34) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:34) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:35:35) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (1.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.5ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 92ms (View: 85, DB: 3) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:36) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:36) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:35:58) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.5ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.5ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.4ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.4ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 144ms (View: 135, DB: 4) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:58) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:58) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:35:59) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 41ms (View: 35, DB: 3) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:59) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 8ms (View: 5, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:35:59) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:36:28) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 38ms (View: 34, DB: 2) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:36:28) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 4ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:36:28) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:36:28) [GET]
  Parameters: {"anything"=>["images", "usi", "test_badge.png"]}
Rendering public/404.html (404)
Completed in 3ms (View: 1, DB: 0) | 404 Not Found [http://localhost/images/usi/test_badge.png]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:38:21) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 139ms (View: 135, DB: 2) | 200 OK [http://localhost/]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:38:21) [GET]
  Parameters: {"anything"=>["stylesheets", "plany.css"]}
Rendering public/404.html (404)
Completed in 4ms (View: 2, DB: 0) | 404 Not Found [http://localhost/stylesheets/plany.css]


Processing MainController#render_404 (for 127.0.0.1 at 2013-02-03 21:38:21) [GET]
  Parameters: {"anything"=>["stylesheets", "main.css"]}
Rendering public/404.html (404)
Completed in 4ms (View: 1, DB: 0) | 404 Not Found [http://localhost/stylesheets/main.css]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:55:55) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.9ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 95ms (View: 91, DB: 2) | 200 OK [http://localhost/]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:56:35) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.3ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 47ms (View: 43, DB: 2) | 200 OK [http://localhost/]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 21:56:38) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 39ms (View: 31, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#login (for 127.0.0.1 at 2013-02-03 21:56:39) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: syntax error, unexpected $end, expecting keyword_end
      flash[:notice] = "ZostaÅÄÅ pomyslnie zalogowany"
                               ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 21:56:39 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:08:37) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 76ms (View: 72, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:08:39) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 77ms (View: 74, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (1.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:08:50) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 9ms (View: 7, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:08:59) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 10ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:09) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:19) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:29) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 4ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:39) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:49) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:09:59) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 8ms (View: 3, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (1.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:10:09) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 6ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/session_expiry]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#session_expiry (for 127.0.0.1 at 2013-02-03 22:10:19) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "_"=>""}
Rendering siatka/session_expiry
Completed in 3ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/session_expiry]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:10:24) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 35ms (View: 32, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:20:55) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 28ms (View: 25, DB: 2) | 200 OK [http://localhost/siatka]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:21:12) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 31ms (View: 28, DB: 2) | 200 OK [http://localhost/]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:21:49) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 105ms (View: 28, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:21:51) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 39ms (View: 36, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:21:52) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 29ms (View: 26, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 22:21:53) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x000000022bf2a8>):
  app/controllers/siatka_controller.rb:165:in `admin'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (13.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 22:21:56) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x000000026c5c08>):
  app/controllers/siatka_controller.rb:1026:in `konfiguracja'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (38.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#signup (for 127.0.0.1 at 2013-02-03 22:21:58) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: syntax error, unexpected $end, expecting keyword_end
      flash[:notice] = "ZostaÅÄÅ pomyslnie zalogowany"
                               ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:21:58 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 22:22:01) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: syntax error, unexpected $end, expecting keyword_end
        flash[:notice] = 'Wpis dodano prawidÅowo.'
                                              ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:22:01 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 22:22:03) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: syntax error, unexpected $end, expecting keyword_end
        flash[:notice] = 'Plan zajÄÄ stworzony pomyÅlnie.'
                                    ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:22:03 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#rezerwacja (for 127.0.0.1 at 2013-02-03 22:22:05) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x000000028ff3c0>):
  app/controllers/siatka_controller.rb:675:in `rezerwacja'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#kolizje (for 127.0.0.1 at 2013-02-03 22:22:08) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/kolizje
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 56ms (View: 54, DB: 1) | 200 OK [http://localhost/siatka/kolizje]
  [4;35;1mRoom Load (0.9ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:23:21) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 102ms (View: 99, DB: 2) | 200 OK [http://localhost/siatka]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:23:23) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.8ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 124ms (View: 118, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (1.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:23:24) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.5ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.4ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 138ms (View: 131, DB: 4) | 200 OK [http://localhost/siatka]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:23:25) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.5ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.5ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.6ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.4ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 98ms (View: 90, DB: 3) | 200 OK [http://localhost/]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:23:28) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 29ms (View: 26, DB: 2) | 200 OK [http://localhost/siatka]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 22:23:30) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
ERROR: compiling _run_rhtml_app47views47siatka47add46rhtml RAISED /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:UTF-8
          def _run_rhtml_app47views47siatka47add46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( stylesheet_link_tag 'plany' ).to_s); @output_buffer.concat "\n\n<h2> Dodanie wpisu </h2>\n<div align=\"center\" class=\"flashinfo\">\n<table>\n<tr>\n"





;  if !flash[:error].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'close32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  elsif !flash[:notice].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'accept32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  else ; @output_buffer.concat "\n\t<td> </td>\n"

;  end ; @output_buffer.concat "\n  <td><p>"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( error_messages_for :plan ).to_s); @output_buffer.concat "</p>\n\t</td>\n</tr>\n</table>\n</div>\n<div>\n\t"





;  form_tag 'adding',{ :id => "edycjaplanow"}  do ; @output_buffer.concat "\n        "
;  @dodaj.godz = params[:godz] ; @output_buffer.concat "\n        "
;  @dodaj.dlugosc = params[:dlugosc] ; @output_buffer.concat "\n        "
;  @dodaj.dni = params[:dni] ; @output_buffer.concat "\n        "
;  @dodaj.rodzaj = params[:rodzaj] ; @output_buffer.concat "\n        "
;  @dodaj.czestotliwosc = params[:czestotliwosc] ; @output_buffer.concat "\n        "
;  @dodaj.grupa = params[:grupa] ; @output_buffer.concat "\n        "
;  @dodaj.katedra = params[:katedra] ; @output_buffer.concat "\n        "
;  @dodaj.budynek = params[:budynek] ; @output_buffer.concat "\n        "
;  @dodaj.uwagi = params[:uwagi] ; @output_buffer.concat "\n\n<center>\n<table class=\"formularz\">\n<tr>\n\t<td rowspan=3>\n\t\t"





; @output_buffer.concat(( collection_select(:dodaj, :grupa, Group.find(:all, :group => "nazwa"), :nazwa, :nazwa, {:prompt => "Wybierz grupe"}, :multiple => true, :size => 7) ).to_s); @output_buffer.concat "\n\t</td>\n\t<td class=\"label\">Godzina</td>\n\t<td>"


; @output_buffer.concat(( select :dodaj, :godz, @listagodz).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Prowadz\xC4\x85cy:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Sala</td>\n\t<td>\n\t\t<div style=\"width: 150px\"> "


; @output_buffer.concat(( text_field_with_auto_complete :room, :numer, { :value => params[:sala], :size => 5},{:method => :get, :min_chars => 0 } ).to_s); @output_buffer.concat "</div>\n\t</td>\n\t<td class=\"label\">D\xC5\x82ugo\xC5\x9B\xC4\x87 zaj\xC4\x99\xC4\x87:</td>\n\t<td>"


; @output_buffer.concat(( select(:dodaj, :dlugosc, @dlugosc, :selected => @dodaj.dlugosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Dzie\xC5\x84</td>\n  <td> "



; @output_buffer.concat(( select(:dodaj, :dni, @dni) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Przedmiot:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :subject, :nazwa, { :value => params[:przedmiot], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Rodzaj zaj\xC4\x99\xC4\x87:</td>\n  <td> "

; @output_buffer.concat(( select(:dodaj, :rodzaj, @r) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Cz\xC4\x99stotliwo\xC5\x9B\xC4\x87 zaj\xC4\x99c:</td>\n\t<td>"

; @output_buffer.concat(( select(:dodaj, :czestotliwosc, @czest, :selected => @dodaj.czestotliwosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Katedra</td>\n\t<td>"



; @output_buffer.concat(( collection_select(:dodaj,:katedra, Department.find(:all), :nazwa, :nazwa, {:prompt => "Wybierz katedre"}) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Budynek:</td>\n\t<td>"

; @output_buffer.concat(( collection_select(:dodaj,:budynek,Building.find(:all).sort {|a,b| a.nazwa <=> b.nazwa}, :nazwa, :nazwa) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Uwagi:</td>\n\t<td>"

; @output_buffer.concat(( text_field 'dodaj', 'uwagi', :size => 20).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n</tr>\n</table></center>\n\t"




; @output_buffer.concat(( submit_tag "WyÅlij" ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</div>\n<br />\n\n\n"




; @output_buffer.concat(( observe_form :edycjaplanow,
		:frequency => 1,
		:update => "Eplany",
		:complete => "Element.show('Eplany')",
		:url => { :action => "preview" }
).to_s); @output_buffer.concat "\n\n<div id=\"Eplany\">\n<table border=0 width=\"100%\" id=\"glowny\">\n<tr>\n<td width=\"50%\">\n\nSala: "






; @output_buffer.concat(( params[:sala] ).to_s); @output_buffer.concat "\n</td>\n<td width=\"50%\">\nGrupa: "


; @output_buffer.concat(( params[:grupa] ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td width=\"50%\">\n\n    <table class=\"plan\">\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n         <th>Pon</th>\n         <th>Wtorek</th>\n         <th>\xC5\x9Aroda</th>\n         <th>Czwartek</th>\n         <th>Pi\xC4\x85tek</th>\n\t</tr>\n\t"














;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n       "
;  if @j == 1 ; @output_buffer.concat "\n\t        <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "</td>\n\t \t   "
;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n       "
;  @dl = @qwe1[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t\t\t "
;  @blok += 1 ; @output_buffer.concat "\n\t\t\t   "
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t\t \t "
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td "
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat " rowspan=\""; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\t\t\t  \t <table class=\"blokinfo\" >\n\t\t\t\t\t\t<tr height=15px><td class=\"head_info\">"

; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t\t\t\t\t<span class=\"left\">\n\t\t\t\t\t\t\t "


;  for i in @dl ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  if i.include?("gr.") ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
; @output_buffer.concat(( i ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n \t\t\t\t\t\t\t</span>\n\t\t\t\t\t <span class=\"right\">"

;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t</td>\n \t\t\t\t\t</tr>\n\t\t\t\t </table>\n\n\t     </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t\t\t"
;  else ; @output_buffer.concat "\n\t\t\t\t<td class=\"blokpusty\"></td>\n\t\t\t\t"

; end; @output_buffer.concat "\n\t    "
;  end ; @output_buffer.concat "\n  \t\t"
;  end ; @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n\n </td>\n <td width=\"50%\">\n    <table class=\"plan\">\n\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n            <th>Pon</th>\n            <th>Wtorek</th>\n            <th>\xC5\x9Aroda</th>\n            <th>Czwartek</th>\n            <th>Pi\xC4\x85tek</th>\n\t</tr>\n\n\t"
















;  @i = 3 ; @output_buffer.concat "\n\t"
;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n           "
;  if @j == 1 ; @output_buffer.concat "\n\t    <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "\n\t    </td>\n\t   "

;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n             "
;  @dl = @qwe[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t"
;  @blok += 1 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td\n\t       "

;  if !@dl[5].include?("rezerwacja") ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat "\n\t\t"
;  else ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-wr'" : "class='blok-cwr'" ).to_s); @output_buffer.concat "\n\t\t"
;  end ; @output_buffer.concat "\n\t\trowspan=\""
; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\n\t\t\t<table class=\"blokinfo\" >\n\t\t\t\t<tr height=15px><td class=\"head_info\">"


; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t<span class=\"left\">"

; @output_buffer.concat(( @dl[1] ).to_s); @output_buffer.concat "</span>\n\t\t\t<span class=\"right\">"
;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t                  </td>\n \t\t\t\t</tr>\n\t\t\t</table>\n\n\t       </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t<td class=\"blokpusty\"></td>\n\t\t"

; end; @output_buffer.concat "\n\t     "
;  end ; @output_buffer.concat "\n\n        "

;  end ; @output_buffer.concat "\n\n\n\t"


;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n </td>\n</table>\n\n\n</div>\n"







; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `module_eval'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `compile!'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:61:in `compile'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:28:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1334:in `perform_action'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end) on line #201 of app/views/siatka/add.rhtml:
198: 			</table>
199: 
200: 	       </td>
201: 	     <% else %>
202: 		<% if @blok_ln[dn] != 0  %>
203: 			<% @blok_ln[dn] -= 1 %>
204: 			<!--<td>#<%= @blok %> <%= @blok_ln %></td>-->

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (18.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 22:23:33) [GET]

NoMethodError (undefined method `permit' for #<SiatkaController:0x00000002de9480>):
  app/controllers/siatka_controller.rb:165:in `admin'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 22:23:55) [GET]
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NameError (undefined local variable or method `acts_as_authorized_user' for #<Class:0x00000002f166a0>):
  app/models/user.rb:7:in `<class:User>'
  app/models/user.rb:2:in `<top (required)>'
  app/controllers/siatka_controller.rb:202:in `admin'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (37.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 22:24:14) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/siatka
Rendering siatka/admin
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 26ms (View: 19, DB: 1) | 200 OK [http://localhost/siatka/admin]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:25:29) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 28ms (View: 25, DB: 2) | 200 OK [http://localhost/siatka]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#admin (for 127.0.0.1 at 2013-02-03 22:25:31) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/siatka
Rendering siatka/admin
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 19ms (View: 12, DB: 1) | 200 OK [http://localhost/siatka/admin]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:25:32) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.3ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 89ms (View: 86, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:25:32) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 50ms (View: 47, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (1.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 22:25:33) [GET]
  [4;35;1mSetting Load (0.4ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;36;1mSchedule Load (0.4ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "schedules" [0m

ActionView::TemplateError (undefined method `plan_to_edit' for nil:NilClass) on line #6 of app/views/siatka/konfiguracja.rhtml:
3: <% form_tag 'konfiguracja' do %>
4:  
5: <p>Plan do wyÅwietlania: <%= collection_select(:config, :current_plan, Schedule.find(:all), :id, :semestr_rok, {:prompt => "Wybierz plan"}) %>
6: <p>Plan do edycji: <%= collection_select(:config, :plan_to_edit, Schedule.find(:all), :id, :semestr_rok, {:prompt => "Wybierz plan", :selected => @config.plan_to_edit}) %></p>
7: <%= submit_tag 'Zapisz' %>
8: 
9: <% end %>

    app/views/siatka/konfiguracja.rhtml:6:in `block in _run_rhtml_app47views47siatka47konfiguracja46rhtml'
    app/views/siatka/konfiguracja.rhtml:3:in `_run_rhtml_app47views47siatka47konfiguracja46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 22:26:43) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/schedules_controller.rb:64: syntax error, unexpected $end, expecting keyword_end
        flash[:notice] = 'Plan zajÄÄ stworzony pomyÅlnie.'
                                    ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:26:43 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:27:09) [GET]

NoMethodError (undefined method `permit' for #<SchedulesController:0x00000002cf57e0>):
  app/controllers/schedules_controller.rb:15:in `index'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (47.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:27:22) [GET]
  [4;36;1mSchedule Load (0.6ms)[0m   [0;1mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 32ms (View: 25, DB: 1) | 200 OK [http://localhost/schedules/]


Processing SchedulesController#new (for 127.0.0.1 at 2013-02-03 22:27:24) [GET]
Rendering template within layouts/schedules
Rendering schedules/new
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 28ms (View: 20, DB: 0) | 200 OK [http://localhost/schedules/new]


Processing SchedulesController#create (for 127.0.0.1 at 2013-02-03 22:27:42) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "schedule"=>{"nazwa"=>"Zimowy 2012/2013", "rok"=>"2012/2013"}, "commit"=>"Zapisz"}
  [4;35;1mSchedule Create (0.9ms)[0m   [0mINSERT INTO "schedules" ("nazwa", "rok", "created_at", "updated_at") VALUES('Zimowy 2012/2013', '2012/2013', '2013-02-03 21:27:42', '2013-02-03 21:27:42')[0m
Redirected to http://localhost:3000/schedules/1
Completed in 222ms (DB: 1) | 302 Found [http://localhost/schedules]


Processing SchedulesController#show (for 127.0.0.1 at 2013-02-03 22:27:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/schedules
Rendering schedules/show
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 22ms (View: 14, DB: 1) | 200 OK [http://localhost/schedules/1]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:27:44) [GET]
  [4;35;1mSchedule Load (0.6ms)[0m   [0mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 17ms (View: 10, DB: 1) | 200 OK [http://localhost/schedules]


Processing SchedulesController#new (for 127.0.0.1 at 2013-02-03 22:27:45) [GET]
Rendering template within layouts/schedules
Rendering schedules/new
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 44ms (View: 26, DB: 0) | 200 OK [http://localhost/schedules/new]


Processing SchedulesController#create (for 127.0.0.1 at 2013-02-03 22:28:01) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "schedule"=>{"nazwa"=>"Letni 2012/2013", "rok"=>"2012/2013"}, "commit"=>"Zapisz"}
  [4;36;1mSchedule Create (0.7ms)[0m   [0;1mINSERT INTO "schedules" ("nazwa", "rok", "created_at", "updated_at") VALUES('Letni 2012/2013', '2012/2013', '2013-02-03 21:28:01', '2013-02-03 21:28:01')[0m
Redirected to http://localhost:3000/schedules/2
Completed in 212ms (DB: 1) | 302 Found [http://localhost/schedules]


Processing SchedulesController#show (for 127.0.0.1 at 2013-02-03 22:28:02) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) [0m
Rendering template within layouts/schedules
Rendering schedules/show
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 26ms (View: 7, DB: 1) | 200 OK [http://localhost/schedules/2]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:28:03) [GET]
  [4;36;1mSchedule Load (1.7ms)[0m   [0;1mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;35;1mSetting Load (0.4ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 45ms (View: 29, DB: 3) | 200 OK [http://localhost/schedules]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:28:05) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 33ms (View: 29, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:28:06) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 29ms (View: 25, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 22:28:10) [GET]
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "schedules" [0m

ActionView::TemplateError (undefined method `plan_to_edit' for nil:NilClass) on line #6 of app/views/siatka/konfiguracja.rhtml:
3: <% form_tag 'konfiguracja' do %>
4:  
5: <p>Plan do wyÅwietlania: <%= collection_select(:config, :current_plan, Schedule.find(:all), :id, :semestr_rok, {:prompt => "Wybierz plan"}) %>
6: <p>Plan do edycji: <%= collection_select(:config, :plan_to_edit, Schedule.find(:all), :id, :semestr_rok, {:prompt => "Wybierz plan", :selected => @config.plan_to_edit}) %></p>
7: <%= submit_tag 'Zapisz' %>
8: 
9: <% end %>

    app/views/siatka/konfiguracja.rhtml:6:in `block in _run_rhtml_app47views47siatka47konfiguracja46rhtml'
    app/views/siatka/konfiguracja.rhtml:3:in `_run_rhtml_app47views47siatka47konfiguracja46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (17.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:37:28) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" IS NULL) LIMIT 1[0m
Completed in 65ms (View: 62, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mSetting Load (0.8ms)[0m   [0;1mSELECT * FROM "settings" [0m
  [4;35;1mSchedule Load (4.0ms)[0m   [0mSELECT * FROM "schedules" [0m
  [4;36;1mSetting Create (0.9ms)[0m   [0;1mINSERT INTO "settings" ("current_plan", "created_at", "updated_at", "plan_to_edit") VALUES(1, '2013-02-03 21:37:59', '2013-02-03 21:37:59', 1)[0m
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 22:38:02) [GET]
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "schedules" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://localhost/siatka/konfiguracja]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 22:38:08) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "config"=>{"current_plan"=>"1", "plan_to_edit"=>"2"}, "commit"=>"Zapisz"}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSetting Update (0.3ms)[0m   [0;1mUPDATE "settings" SET "plan_to_edit" = 2, "updated_at" = '2013-02-03 21:38:08' WHERE "id" = 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;35;1mSchedule Load (0.6ms)[0m   [0mSELECT * FROM "schedules" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mSetting Load (0.5ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 341ms (View: 109, DB: 3) | 200 OK [http://localhost/siatka/konfiguracja]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 22:38:10) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (1.8ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.4ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.5ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.6ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 91ms (View: 82, DB: 4) | 200 OK [http://localhost/]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:38:12) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 34ms (View: 31, DB: 2) | 200 OK [http://localhost/siatka]


Processing ApplicationController#signup (for 127.0.0.1 at 2013-02-03 22:38:17) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/account_controller.rb:22: syntax error, unexpected $end, expecting keyword_end
      flash[:notice] = "ZostaÅÄÅ pomyslnie zalogowany"
                               ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:38:17 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:38:30) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 76ms (View: 72, DB: 2) | 200 OK [http://localhost/siatka]


Processing ApplicationController#index (for 127.0.0.1 at 2013-02-03 22:38:32) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: invalid multibyte char (US-ASCII)
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/controllers/freedays_controller.rb:42: syntax error, unexpected $end, expecting keyword_end
        flash[:notice] = 'Wpis dodano prawidÅowo.'
                                              ^):
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

/!\ FAILSAFE /!\  2013-02-03 22:38:32 +0100
  Status: 500 Internal Server Error
  
ActionView::TemplateError (invalid byte sequence in US-ASCII) in /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb:

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


    In /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/templates/rescues/diagnostics.erb


    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


Processing FreedaysController#index (for 127.0.0.1 at 2013-02-03 22:38:58) [GET]
  [4;36;1mFreeday Load (0.6ms)[0m   [0;1mSELECT * FROM "freedays" [0m
Rendering template within layouts/freedays
Rendering freedays/index
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 100ms (View: 94, DB: 1) | 200 OK [http://localhost/freedays/]


Processing FreedaysController#new (for 127.0.0.1 at 2013-02-03 22:39:00) [GET]

NoMethodError (undefined method `permit' for #<FreedaysController:0x00000002c306e8>):
  app/controllers/freedays_controller.rb:18:in `new'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (12.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing FreedaysController#new (for 127.0.0.1 at 2013-02-03 22:39:14) [GET]
Rendering template within layouts/freedays
Rendering freedays/new

ActionView::TemplateError (undefined method `calendar_date_select_tag' for #<ActionView::Base:0x00000002ca5d58>) on line #12 of app/views/freedays/new.html.erb:
9: <p> Dodaj nowÄ przerwe w zajÄciach</p>
10: <% form_tag 'create' do %>
11: 	<%= text_field :freeday, :nazwa %>
12: 	<%= calendar_date_select_tag :start, "", :valid_date_check => "date >= (new Date()).stripTime()", :popup => :force, :time => true %>
13: 	<%= calendar_date_select_tag :stop, "", :valid_date_check => "date >= (new Date()).stripTime()", :popup => :force, :time => true %>
14: 
15:   <p>

    app/views/freedays/new.html.erb:12:in `block in _run_erb_app47views47freedays47new46html46erb'
    app/views/freedays/new.html.erb:10
    app/controllers/freedays_controller.rb:20:in `new'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (19.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing FreedaysController#new (for 127.0.0.1 at 2013-02-03 22:47:38) [GET]
Rendering template within layouts/freedays
Rendering freedays/new
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 89ms (View: 81, DB: 0) | 200 OK [http://localhost/freedays/new]


Processing FreedaysController#new (for 127.0.0.1 at 2013-02-03 22:48:33) [GET]
Rendering template within layouts/freedays
Rendering freedays/new
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 38ms (View: 30, DB: 1) | 200 OK [http://localhost/freedays/new]


Processing FreedaysController#create (for 127.0.0.1 at 2013-02-03 22:49:01) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "freeday"=>{"nazwa"=>"Sesja zimowa"}, "start"=>"2013-02-03 10:48 PM", "stop"=>"2013-02-28 10:48 PM", "commit"=>"Zapisz"}
  [4;36;1mFreeday Create (1.2ms)[0m   [0;1mINSERT INTO "freedays" ("start", "stop", "nazwa", "created_at", "updated_at") VALUES('2013-02-03 22:48:00', '2013-02-28 22:48:00', 'Sesja zimowa', '2013-02-03 21:49:01', '2013-02-03 21:49:01')[0m
Redirected to http://localhost:3000/freedays?controler=freedays
Completed in 269ms (DB: 1) | 302 Found [http://localhost/freedays/create]


Processing FreedaysController#index (for 127.0.0.1 at 2013-02-03 22:49:01) [GET]
  Parameters: {"controler"=>"freedays"}
  [4;35;1mFreeday Load (0.7ms)[0m   [0mSELECT * FROM "freedays" [0m
Rendering template within layouts/freedays
Rendering freedays/index
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 28, DB: 1) | 200 OK [http://localhost/freedays?controler=freedays]


Processing FreedaysController#new (for 127.0.0.1 at 2013-02-03 22:49:04) [GET]
Rendering template within layouts/freedays
Rendering freedays/new
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 121ms (View: 99, DB: 0) | 200 OK [http://localhost/freedays/new]


Processing FreedaysController#create (for 127.0.0.1 at 2013-02-03 22:49:20) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "freeday"=>{"nazwa"=>"Sesja letnia "}, "start"=>"2013-06-06 10:49 PM", "stop"=>"2013-02-28 10:49 PM", "commit"=>"Zapisz"}
  [4;36;1mFreeday Create (0.7ms)[0m   [0;1mINSERT INTO "freedays" ("start", "stop", "nazwa", "created_at", "updated_at") VALUES('2013-06-06 22:49:00', '2013-02-28 22:49:00', 'Sesja letnia ', '2013-02-03 21:49:20', '2013-02-03 21:49:20')[0m
Redirected to http://localhost:3000/freedays?controler=freedays
Completed in 272ms (DB: 1) | 302 Found [http://localhost/freedays/create]


Processing FreedaysController#index (for 127.0.0.1 at 2013-02-03 22:49:20) [GET]
  Parameters: {"controler"=>"freedays"}
  [4;35;1mFreeday Load (0.8ms)[0m   [0mSELECT * FROM "freedays" [0m
Rendering template within layouts/freedays
Rendering freedays/index
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/freedays?controler=freedays]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:49:22) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 60ms (View: 56, DB: 2) | 200 OK [http://localhost/siatka]


Processing FreedaysController#index (for 127.0.0.1 at 2013-02-03 22:49:24) [GET]
  [4;36;1mFreeday Load (0.7ms)[0m   [0;1mSELECT * FROM "freedays" [0m
Rendering template within layouts/freedays
Rendering freedays/index
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 29ms (View: 22, DB: 1) | 200 OK [http://localhost/freedays/]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:49:25) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.3ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 36ms (View: 32, DB: 2) | 200 OK [http://localhost/siatka]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:49:26) [GET]
  [4;35;1mSchedule Load (0.7ms)[0m   [0mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 76ms (View: 69, DB: 1) | 200 OK [http://localhost/schedules/]


Processing SchedulesController#show (for 127.0.0.1 at 2013-02-03 22:49:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/schedules
Rendering schedules/show
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 50ms (View: 29, DB: 1) | 200 OK [http://localhost/schedules/1]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:49:30) [GET]
  [4;35;1mSchedule Load (0.7ms)[0m   [0mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;36;1mSetting Load (0.4ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 22ms (View: 15, DB: 1) | 200 OK [http://localhost/schedules]


Processing SchedulesController#edit (for 127.0.0.1 at 2013-02-03 22:49:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSchedule Load (0.6ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/schedules
Rendering schedules/edit
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 88ms (View: 68, DB: 1) | 200 OK [http://localhost/schedules/1/edit]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 22:49:32) [GET]
  [4;35;1mSchedule Load (1.7ms)[0m   [0mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;36;1mSetting Load (0.6ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.5ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 54ms (View: 37, DB: 3) | 200 OK [http://localhost/schedules]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:49:34) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 35ms (View: 32, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:49:54) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 65ms (View: 61, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukowanie (for 127.0.0.1 at 2013-02-03 22:49:56) [GET]
Rendering template within layouts/siatka
Rendering siatka/drukowanie
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 65ms (View: 62, DB: 1) | 200 OK [http://localhost/siatka/drukowanie]
  [4;36;1mRoom Load (1.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukujsale (for 127.0.0.1 at 2013-02-03 22:49:58) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m

NameError (uninitialized constant SiatkaController::TCPDF):
  app/controllers/siatka_controller.rb:1044:in `drukujsale'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (38.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 22:50:03) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
ERROR: compiling _run_rhtml_app47views47siatka47add46rhtml RAISED /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:UTF-8
          def _run_rhtml_app47views47siatka47add46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( stylesheet_link_tag 'plany' ).to_s); @output_buffer.concat "\n\n<h2> Dodanie wpisu </h2>\n<div align=\"center\" class=\"flashinfo\">\n<table>\n<tr>\n"





;  if !flash[:error].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'close32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  elsif !flash[:notice].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'accept32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  else ; @output_buffer.concat "\n\t<td> </td>\n"

;  end ; @output_buffer.concat "\n  <td><p>"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( error_messages_for :plan ).to_s); @output_buffer.concat "</p>\n\t</td>\n</tr>\n</table>\n</div>\n<div>\n\t"





;  form_tag 'adding',{ :id => "edycjaplanow"}  do ; @output_buffer.concat "\n        "
;  @dodaj.godz = params[:godz] ; @output_buffer.concat "\n        "
;  @dodaj.dlugosc = params[:dlugosc] ; @output_buffer.concat "\n        "
;  @dodaj.dni = params[:dni] ; @output_buffer.concat "\n        "
;  @dodaj.rodzaj = params[:rodzaj] ; @output_buffer.concat "\n        "
;  @dodaj.czestotliwosc = params[:czestotliwosc] ; @output_buffer.concat "\n        "
;  @dodaj.grupa = params[:grupa] ; @output_buffer.concat "\n        "
;  @dodaj.katedra = params[:katedra] ; @output_buffer.concat "\n        "
;  @dodaj.budynek = params[:budynek] ; @output_buffer.concat "\n        "
;  @dodaj.uwagi = params[:uwagi] ; @output_buffer.concat "\n\n<center>\n<table class=\"formularz\">\n<tr>\n\t<td rowspan=3>\n\t\t"





; @output_buffer.concat(( collection_select(:dodaj, :grupa, Group.find(:all, :group => "nazwa"), :nazwa, :nazwa, {:prompt => "Wybierz grupe"}, :multiple => true, :size => 7) ).to_s); @output_buffer.concat "\n\t</td>\n\t<td class=\"label\">Godzina</td>\n\t<td>"


; @output_buffer.concat(( select :dodaj, :godz, @listagodz).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Prowadz\xC4\x85cy:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Sala</td>\n\t<td>\n\t\t<div style=\"width: 150px\"> "


; @output_buffer.concat(( text_field_with_auto_complete :room, :numer, { :value => params[:sala], :size => 5},{:method => :get, :min_chars => 0 } ).to_s); @output_buffer.concat "</div>\n\t</td>\n\t<td class=\"label\">D\xC5\x82ugo\xC5\x9B\xC4\x87 zaj\xC4\x99\xC4\x87:</td>\n\t<td>"


; @output_buffer.concat(( select(:dodaj, :dlugosc, @dlugosc, :selected => @dodaj.dlugosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Dzie\xC5\x84</td>\n  <td> "



; @output_buffer.concat(( select(:dodaj, :dni, @dni) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Przedmiot:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :subject, :nazwa, { :value => params[:przedmiot], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Rodzaj zaj\xC4\x99\xC4\x87:</td>\n  <td> "

; @output_buffer.concat(( select(:dodaj, :rodzaj, @r) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Cz\xC4\x99stotliwo\xC5\x9B\xC4\x87 zaj\xC4\x99c:</td>\n\t<td>"

; @output_buffer.concat(( select(:dodaj, :czestotliwosc, @czest, :selected => @dodaj.czestotliwosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Katedra</td>\n\t<td>"



; @output_buffer.concat(( collection_select(:dodaj,:katedra, Department.find(:all), :nazwa, :nazwa, {:prompt => "Wybierz katedre"}) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Budynek:</td>\n\t<td>"

; @output_buffer.concat(( collection_select(:dodaj,:budynek,Building.find(:all).sort {|a,b| a.nazwa <=> b.nazwa}, :nazwa, :nazwa) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Uwagi:</td>\n\t<td>"

; @output_buffer.concat(( text_field 'dodaj', 'uwagi', :size => 20).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n</tr>\n</table></center>\n\t"




; @output_buffer.concat(( submit_tag "WyÅlij" ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</div>\n<br />\n\n\n"




; @output_buffer.concat(( observe_form :edycjaplanow,
		:frequency => 1,
		:update => "Eplany",
		:complete => "Element.show('Eplany')",
		:url => { :action => "preview" }
).to_s); @output_buffer.concat "\n\n<div id=\"Eplany\">\n<table border=0 width=\"100%\" id=\"glowny\">\n<tr>\n<td width=\"50%\">\n\nSala: "






; @output_buffer.concat(( params[:sala] ).to_s); @output_buffer.concat "\n</td>\n<td width=\"50%\">\nGrupa: "


; @output_buffer.concat(( params[:grupa] ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td width=\"50%\">\n\n    <table class=\"plan\">\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n         <th>Pon</th>\n         <th>Wtorek</th>\n         <th>\xC5\x9Aroda</th>\n         <th>Czwartek</th>\n         <th>Pi\xC4\x85tek</th>\n\t</tr>\n\t"














;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n       "
;  if @j == 1 ; @output_buffer.concat "\n\t        <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "</td>\n\t \t   "
;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n       "
;  @dl = @qwe1[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t\t\t "
;  @blok += 1 ; @output_buffer.concat "\n\t\t\t   "
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t\t \t "
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td "
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat " rowspan=\""; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\t\t\t  \t <table class=\"blokinfo\" >\n\t\t\t\t\t\t<tr height=15px><td class=\"head_info\">"

; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t\t\t\t\t<span class=\"left\">\n\t\t\t\t\t\t\t "


;  for i in @dl ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  if i.include?("gr.") ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
; @output_buffer.concat(( i ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n \t\t\t\t\t\t\t</span>\n\t\t\t\t\t <span class=\"right\">"

;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t</td>\n \t\t\t\t\t</tr>\n\t\t\t\t </table>\n\n\t     </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t\t\t"
;  else ; @output_buffer.concat "\n\t\t\t\t<td class=\"blokpusty\"></td>\n\t\t\t\t"

; end; @output_buffer.concat "\n\t    "
;  end ; @output_buffer.concat "\n  \t\t"
;  end ; @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n\n </td>\n <td width=\"50%\">\n    <table class=\"plan\">\n\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n            <th>Pon</th>\n            <th>Wtorek</th>\n            <th>\xC5\x9Aroda</th>\n            <th>Czwartek</th>\n            <th>Pi\xC4\x85tek</th>\n\t</tr>\n\n\t"
















;  @i = 3 ; @output_buffer.concat "\n\t"
;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n           "
;  if @j == 1 ; @output_buffer.concat "\n\t    <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "\n\t    </td>\n\t   "

;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n             "
;  @dl = @qwe[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t"
;  @blok += 1 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td\n\t       "

;  if !@dl[5].include?("rezerwacja") ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat "\n\t\t"
;  else ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-wr'" : "class='blok-cwr'" ).to_s); @output_buffer.concat "\n\t\t"
;  end ; @output_buffer.concat "\n\t\trowspan=\""
; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\n\t\t\t<table class=\"blokinfo\" >\n\t\t\t\t<tr height=15px><td class=\"head_info\">"


; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t<span class=\"left\">"

; @output_buffer.concat(( @dl[1] ).to_s); @output_buffer.concat "</span>\n\t\t\t<span class=\"right\">"
;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t                  </td>\n \t\t\t\t</tr>\n\t\t\t</table>\n\n\t       </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t<td class=\"blokpusty\"></td>\n\t\t"

; end; @output_buffer.concat "\n\t     "
;  end ; @output_buffer.concat "\n\n        "

;  end ; @output_buffer.concat "\n\n\n\t"


;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n </td>\n</table>\n\n\n</div>\n"







; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `module_eval'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `compile!'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:61:in `compile'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:28:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1334:in `perform_action'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end) on line #201 of app/views/siatka/add.rhtml:
198: 			</table>
199: 
200: 	       </td>
201: 	     <% else %>
202: 		<% if @blok_ln[dn] != 0  %>
203: 			<% @blok_ln[dn] -= 1 %>
204: 			<!--<td>#<%= @blok %> <%= @blok_ln %></td>-->

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (16.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#rezerwacja (for 127.0.0.1 at 2013-02-03 22:50:06) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/rezerwacja

ActionView::TemplateError (undefined method `text_field_with_auto_complete' for #<ActionView::Base:0x00000002c917e0>) on line #53 of app/views/siatka/rezerwacja.rhtml:
50: 	<td>ProwadzÄcy:
51: 	</td>
52: 	<td>
53: 	<%= text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } %>
54: 	</td>
55: 	<td></td>
56: 	<td>

    app/views/siatka/rezerwacja.rhtml:53:in `block in _run_rhtml_app47views47siatka47rezerwacja46rhtml'
    app/views/siatka/rezerwacja.rhtml:35:in `_run_rhtml_app47views47siatka47rezerwacja46rhtml'
    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (17.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#rezerwacja (for 127.0.0.1 at 2013-02-03 22:54:46) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/rezerwacja
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 136ms (View: 125, DB: 1) | 200 OK [http://localhost/siatka/rezerwacja]
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 22:54:55) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.3ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 111ms (View: 107, DB: 2) | 200 OK [http://localhost/siatka]
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukowanie (for 127.0.0.1 at 2013-02-03 22:54:56) [GET]
Rendering template within layouts/siatka
Rendering siatka/drukowanie
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 93ms (View: 90, DB: 1) | 200 OK [http://localhost/siatka/drukowanie]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukujsale (for 127.0.0.1 at 2013-02-03 22:54:58) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m

NameError (uninitialized constant SiatkaController::TCPDF):
  app/controllers/siatka_controller.rb:1044:in `drukujsale'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (14.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#drukowanie (for 127.0.0.1 at 2013-02-03 22:55:23) [GET]

LoadError (cannot load such file -- tcpdf):
  app/controllers/siatka_controller.rb:4:in `<class:SiatkaController>'
  app/controllers/siatka_controller.rb:2:in `<top (required)>'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (14.9ms)
Rendered rescues/_request_and_response (23.5ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#drukowanie (for 127.0.0.1 at 2013-02-03 22:59:48) [GET]

SyntaxError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:309: syntax error, unexpected ':', expecting keyword_then or ',' or ';' or '\n'
			when 'pt': @k=1
			          ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:310: syntax error, unexpected keyword_when, expecting keyword_end
			when 'mm': @k=72/25.4
			    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:310: syntax error, unexpected ':', expecting keyword_end
			when 'mm': @k=72/25.4
			          ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:311: syntax error, unexpected keyword_when, expecting keyword_end
			when 'cm': @k=72/2.54
			    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:311: syntax error, unexpected ':', expecting keyword_end
			when 'cm': @k=72/2.54
			          ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:312: syntax error, unexpected keyword_when, expecting keyword_end
			when 'in': @k=72
			    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:312: syntax error, unexpected ':', expecting keyword_end
			when 'in': @k=72
			          ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:321: syntax error, unexpected ':', expecting keyword_then or ',' or ';' or '\n'
				when  '4A0': format = [4767.87,6740.79]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:322: syntax error, unexpected keyword_when, expecting keyword_end
				when  '2A0': format = [3370.39,4767.87]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:322: syntax error, unexpected ':', expecting keyword_end
				when  '2A0': format = [3370.39,4767.87]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:323: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A0': format = [2383.94,3370.39]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:323: syntax error, unexpected ':', expecting keyword_end
				when  'A0': format = [2383.94,3370.39]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:324: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A1': format = [1683.78,2383.94]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:324: syntax error, unexpected ':', expecting keyword_end
				when  'A1': format = [1683.78,2383.94]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:325: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A2': format = [1190.55,1683.78]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:325: syntax error, unexpected ':', expecting keyword_end
				when  'A2': format = [1190.55,1683.78]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:326: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A3': format = [841.89,1190.55]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:326: syntax error, unexpected ':', expecting keyword_end
				when  'A3': format = [841.89,1190.55]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:327: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A4': format = [595.28,841.89] #: default
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:327: syntax error, unexpected ':', expecting keyword_end
				when  'A4': format = [595.28,841.89] #: default
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:328: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A5': format = [419.53,595.28]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:328: syntax error, unexpected ':', expecting keyword_end
				when  'A5': format = [419.53,595.28]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:329: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A6': format = [297.64,419.53]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:329: syntax error, unexpected ':', expecting keyword_end
				when  'A6': format = [297.64,419.53]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:330: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A7': format = [209.76,297.64]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:330: syntax error, unexpected ':', expecting keyword_end
				when  'A7': format = [209.76,297.64]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:331: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A8': format = [147.40,209.76]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:331: syntax error, unexpected ':', expecting keyword_end
				when  'A8': format = [147.40,209.76]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:332: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A9': format = [104.88,147.40]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:332: syntax error, unexpected ':', expecting keyword_end
				when  'A9': format = [104.88,147.40]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:333: syntax error, unexpected keyword_when, expecting keyword_end
				when  'A10': format = [73.70,104.88]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:333: syntax error, unexpected ':', expecting keyword_end
				when  'A10': format = [73.70,104.88]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:334: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B0': format = [2834.65,4008.19]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:334: syntax error, unexpected ':', expecting keyword_end
				when  'B0': format = [2834.65,4008.19]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:335: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B1': format = [2004.09,2834.65]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:335: syntax error, unexpected ':', expecting keyword_end
				when  'B1': format = [2004.09,2834.65]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:336: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B2': format = [1417.32,2004.09]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:336: syntax error, unexpected ':', expecting keyword_end
				when  'B2': format = [1417.32,2004.09]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:337: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B3': format = [1000.63,1417.32]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:337: syntax error, unexpected ':', expecting keyword_end
				when  'B3': format = [1000.63,1417.32]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:338: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B4': format = [708.66,1000.63]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:338: syntax error, unexpected ':', expecting keyword_end
				when  'B4': format = [708.66,1000.63]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:339: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B5': format = [498.90,708.66]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:339: syntax error, unexpected ':', expecting keyword_end
				when  'B5': format = [498.90,708.66]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:340: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B6': format = [354.33,498.90]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:340: syntax error, unexpected ':', expecting keyword_end
				when  'B6': format = [354.33,498.90]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:341: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B7': format = [249.45,354.33]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:341: syntax error, unexpected ':', expecting keyword_end
				when  'B7': format = [249.45,354.33]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:342: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B8': format = [175.75,249.45]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:342: syntax error, unexpected ':', expecting keyword_end
				when  'B8': format = [175.75,249.45]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:343: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B9': format = [124.72,175.75]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:343: syntax error, unexpected ':', expecting keyword_end
				when  'B9': format = [124.72,175.75]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:344: syntax error, unexpected keyword_when, expecting keyword_end
				when  'B10': format = [87.87,124.72]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:344: syntax error, unexpected ':', expecting keyword_end
				when  'B10': format = [87.87,124.72]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:345: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C0': format = [2599.37,3676.54]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:345: syntax error, unexpected ':', expecting keyword_end
				when  'C0': format = [2599.37,3676.54]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:346: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C1': format = [1836.85,2599.37]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:346: syntax error, unexpected ':', expecting keyword_end
				when  'C1': format = [1836.85,2599.37]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:347: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C2': format = [1298.27,1836.85]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:347: syntax error, unexpected ':', expecting keyword_end
				when  'C2': format = [1298.27,1836.85]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:348: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C3': format = [918.43,1298.27]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:348: syntax error, unexpected ':', expecting keyword_end
				when  'C3': format = [918.43,1298.27]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:349: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C4': format = [649.13,918.43]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:349: syntax error, unexpected ':', expecting keyword_end
				when  'C4': format = [649.13,918.43]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:350: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C5': format = [459.21,649.13]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:350: syntax error, unexpected ':', expecting keyword_end
				when  'C5': format = [459.21,649.13]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:351: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C6': format = [323.15,459.21]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:351: syntax error, unexpected ':', expecting keyword_end
				when  'C6': format = [323.15,459.21]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:352: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C7': format = [229.61,323.15]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:352: syntax error, unexpected ':', expecting keyword_end
				when  'C7': format = [229.61,323.15]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:353: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C8': format = [161.57,229.61]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:353: syntax error, unexpected ':', expecting keyword_end
				when  'C8': format = [161.57,229.61]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:354: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C9': format = [113.39,161.57]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:354: syntax error, unexpected ':', expecting keyword_end
				when  'C9': format = [113.39,161.57]
				           ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:355: syntax error, unexpected keyword_when, expecting keyword_end
				when  'C10': format = [79.37,113.39]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:355: syntax error, unexpected ':', expecting keyword_end
				when  'C10': format = [79.37,113.39]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:356: syntax error, unexpected keyword_when, expecting keyword_end
				when  'RA0': format = [2437.80,3458.27]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:356: syntax error, unexpected ':', expecting keyword_end
				when  'RA0': format = [2437.80,3458.27]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:357: syntax error, unexpected keyword_when, expecting keyword_end
				when  'RA1': format = [1729.13,2437.80]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:357: syntax error, unexpected ':', expecting keyword_end
				when  'RA1': format = [1729.13,2437.80]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:358: syntax error, unexpected keyword_when, expecting keyword_end
				when  'RA2': format = [1218.90,1729.13]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:358: syntax error, unexpected ':', expecting keyword_end
				when  'RA2': format = [1218.90,1729.13]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:359: syntax error, unexpected keyword_when, expecting keyword_end
				when  'RA3': format = [864.57,1218.90]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:359: syntax error, unexpected ':', expecting keyword_end
				when  'RA3': format = [864.57,1218.90]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:360: syntax error, unexpected keyword_when, expecting keyword_end
				when  'RA4': format = [609.45,864.57]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:360: syntax error, unexpected ':', expecting keyword_end
				when  'RA4': format = [609.45,864.57]
				            ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:361: syntax error, unexpected keyword_when, expecting keyword_end
				when  'SRA0': format = [2551.18,3628.35]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:361: syntax error, unexpected ':', expecting keyword_end
				when  'SRA0': format = [2551.18,3628.35]
				             ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:362: syntax error, unexpected keyword_when, expecting keyword_end
				when  'SRA1': format = [1814.17,2551.18]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:362: syntax error, unexpected ':', expecting keyword_end
				when  'SRA1': format = [1814.17,2551.18]
				             ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:363: syntax error, unexpected keyword_when, expecting keyword_end
				when  'SRA2': format = [1275.59,1814.17]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:363: syntax error, unexpected ':', expecting keyword_end
				when  'SRA2': format = [1275.59,1814.17]
				             ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:364: syntax error, unexpected keyword_when, expecting keyword_end
				when  'SRA3': format = [907.09,1275.59]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:364: syntax error, unexpected ':', expecting keyword_end
				when  'SRA3': format = [907.09,1275.59]
				             ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:365: syntax error, unexpected keyword_when, expecting keyword_end
				when  'SRA4': format = [637.80,907.09]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:365: syntax error, unexpected ':', expecting keyword_end
				when  'SRA4': format = [637.80,907.09]
				             ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:366: syntax error, unexpected keyword_when, expecting keyword_end
				when  'LETTER': format = [612.00,792.00]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:366: syntax error, unexpected ':', expecting keyword_end
				when  'LETTER': format = [612.00,792.00]
				               ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:367: syntax error, unexpected keyword_when, expecting keyword_end
				when  'LEGAL': format = [612.00,1008.00]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:367: syntax error, unexpected ':', expecting keyword_end
				when  'LEGAL': format = [612.00,1008.00]
				              ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:368: syntax error, unexpected keyword_when, expecting keyword_end
				when  'EXECUTIVE': format = [521.86,756.00]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:368: syntax error, unexpected ':', expecting keyword_end
				when  'EXECUTIVE': format = [521.86,756.00]
				                  ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:369: syntax error, unexpected keyword_when, expecting keyword_end
				when  'FOLIO': format = [612.00,936.00]
				    ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:369: syntax error, unexpected ':', expecting keyword_end
				when  'FOLIO': format = [612.00,936.00]
				              ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/lib/tcpdf.rb:426: syntax error, unexpected keyword_end, expecting $end
	end
	   ^):
  app/controllers/siatka_controller.rb:4:in `<class:SiatkaController>'
  app/controllers/siatka_controller.rb:2:in `<top (required)>'
  <internal:prelude>:10:in `synchronize'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (37.1ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukowanie (for 127.0.0.1 at 2013-02-03 23:02:13) [GET]
Rendering template within layouts/siatka
Rendering siatka/drukowanie
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 119ms (View: 116, DB: 2) | 200 OK [http://localhost/siatka/drukowanie]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#drukujsale (for 127.0.0.1 at 2013-02-03 23:02:15) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Sending data plany.pdf
Completed in 5ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/drukujsale]
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:02:21) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 111ms (View: 108, DB: 2) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (1.8ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#rezerwacja (for 127.0.0.1 at 2013-02-03 23:02:23) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/rezerwacja
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 136ms (View: 41, DB: 2) | 200 OK [http://localhost/siatka/rezerwacja]
  [4;35;1mRoom Load (0.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:02:24) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 43ms (View: 39, DB: 2) | 200 OK [http://localhost/siatka]
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:02:25) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
ERROR: compiling _run_rhtml_app47views47siatka47add46rhtml RAISED /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:UTF-8
          def _run_rhtml_app47views47siatka47add46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( stylesheet_link_tag 'plany' ).to_s); @output_buffer.concat "\n\n<h2> Dodanie wpisu </h2>\n<div align=\"center\" class=\"flashinfo\">\n<table>\n<tr>\n"





;  if !flash[:error].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'close32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  elsif !flash[:notice].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'accept32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  else ; @output_buffer.concat "\n\t<td> </td>\n"

;  end ; @output_buffer.concat "\n  <td><p>"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( error_messages_for :plan ).to_s); @output_buffer.concat "</p>\n\t</td>\n</tr>\n</table>\n</div>\n<div>\n\t"





;  form_tag 'adding',{ :id => "edycjaplanow"}  do ; @output_buffer.concat "\n        "
;  @dodaj.godz = params[:godz] ; @output_buffer.concat "\n        "
;  @dodaj.dlugosc = params[:dlugosc] ; @output_buffer.concat "\n        "
;  @dodaj.dni = params[:dni] ; @output_buffer.concat "\n        "
;  @dodaj.rodzaj = params[:rodzaj] ; @output_buffer.concat "\n        "
;  @dodaj.czestotliwosc = params[:czestotliwosc] ; @output_buffer.concat "\n        "
;  @dodaj.grupa = params[:grupa] ; @output_buffer.concat "\n        "
;  @dodaj.katedra = params[:katedra] ; @output_buffer.concat "\n        "
;  @dodaj.budynek = params[:budynek] ; @output_buffer.concat "\n        "
;  @dodaj.uwagi = params[:uwagi] ; @output_buffer.concat "\n\n<center>\n<table class=\"formularz\">\n<tr>\n\t<td rowspan=3>\n\t\t"





; @output_buffer.concat(( collection_select(:dodaj, :grupa, Group.find(:all, :group => "nazwa"), :nazwa, :nazwa, {:prompt => "Wybierz grupe"}, :multiple => true, :size => 7) ).to_s); @output_buffer.concat "\n\t</td>\n\t<td class=\"label\">Godzina</td>\n\t<td>"


; @output_buffer.concat(( select :dodaj, :godz, @listagodz).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Prowadz\xC4\x85cy:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Sala</td>\n\t<td>\n\t\t<div style=\"width: 150px\"> "


; @output_buffer.concat(( text_field_with_auto_complete :room, :numer, { :value => params[:sala], :size => 5},{:method => :get, :min_chars => 0 } ).to_s); @output_buffer.concat "</div>\n\t</td>\n\t<td class=\"label\">D\xC5\x82ugo\xC5\x9B\xC4\x87 zaj\xC4\x99\xC4\x87:</td>\n\t<td>"


; @output_buffer.concat(( select(:dodaj, :dlugosc, @dlugosc, :selected => @dodaj.dlugosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Dzie\xC5\x84</td>\n  <td> "



; @output_buffer.concat(( select(:dodaj, :dni, @dni) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Przedmiot:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :subject, :nazwa, { :value => params[:przedmiot], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Rodzaj zaj\xC4\x99\xC4\x87:</td>\n  <td> "

; @output_buffer.concat(( select(:dodaj, :rodzaj, @r) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Cz\xC4\x99stotliwo\xC5\x9B\xC4\x87 zaj\xC4\x99c:</td>\n\t<td>"

; @output_buffer.concat(( select(:dodaj, :czestotliwosc, @czest, :selected => @dodaj.czestotliwosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Katedra</td>\n\t<td>"



; @output_buffer.concat(( collection_select(:dodaj,:katedra, Department.find(:all), :nazwa, :nazwa, {:prompt => "Wybierz katedre"}) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Budynek:</td>\n\t<td>"

; @output_buffer.concat(( collection_select(:dodaj,:budynek,Building.find(:all).sort {|a,b| a.nazwa <=> b.nazwa}, :nazwa, :nazwa) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Uwagi:</td>\n\t<td>"

; @output_buffer.concat(( text_field 'dodaj', 'uwagi', :size => 20).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n</tr>\n</table></center>\n\t"




; @output_buffer.concat(( submit_tag "WyÅlij" ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</div>\n<br />\n\n\n"




; @output_buffer.concat(( observe_form :edycjaplanow,
		:frequency => 1,
		:update => "Eplany",
		:complete => "Element.show('Eplany')",
		:url => { :action => "preview" }
).to_s); @output_buffer.concat "\n\n<div id=\"Eplany\">\n<table border=0 width=\"100%\" id=\"glowny\">\n<tr>\n<td width=\"50%\">\n\nSala: "






; @output_buffer.concat(( params[:sala] ).to_s); @output_buffer.concat "\n</td>\n<td width=\"50%\">\nGrupa: "


; @output_buffer.concat(( params[:grupa] ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td width=\"50%\">\n\n    <table class=\"plan\">\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n         <th>Pon</th>\n         <th>Wtorek</th>\n         <th>\xC5\x9Aroda</th>\n         <th>Czwartek</th>\n         <th>Pi\xC4\x85tek</th>\n\t</tr>\n\t"














;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n       "
;  if @j == 1 ; @output_buffer.concat "\n\t        <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "</td>\n\t \t   "
;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n       "
;  @dl = @qwe1[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t\t\t "
;  @blok += 1 ; @output_buffer.concat "\n\t\t\t   "
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t\t \t "
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td "
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat " rowspan=\""; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\t\t\t  \t <table class=\"blokinfo\" >\n\t\t\t\t\t\t<tr height=15px><td class=\"head_info\">"

; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t\t\t\t\t<span class=\"left\">\n\t\t\t\t\t\t\t "


;  for i in @dl ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  if i.include?("gr.") ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
; @output_buffer.concat(( i ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n \t\t\t\t\t\t\t</span>\n\t\t\t\t\t <span class=\"right\">"

;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t</td>\n \t\t\t\t\t</tr>\n\t\t\t\t </table>\n\n\t     </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t\t\t"
;  else ; @output_buffer.concat "\n\t\t\t\t<td class=\"blokpusty\"></td>\n\t\t\t\t"

; end; @output_buffer.concat "\n\t    "
;  end ; @output_buffer.concat "\n  \t\t"
;  end ; @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n\n </td>\n <td width=\"50%\">\n    <table class=\"plan\">\n\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n            <th>Pon</th>\n            <th>Wtorek</th>\n            <th>\xC5\x9Aroda</th>\n            <th>Czwartek</th>\n            <th>Pi\xC4\x85tek</th>\n\t</tr>\n\n\t"
















;  @i = 3 ; @output_buffer.concat "\n\t"
;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n           "
;  if @j == 1 ; @output_buffer.concat "\n\t    <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "\n\t    </td>\n\t   "

;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n             "
;  @dl = @qwe[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t"
;  @blok += 1 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td\n\t       "

;  if !@dl[5].include?("rezerwacja") ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat "\n\t\t"
;  else ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-wr'" : "class='blok-cwr'" ).to_s); @output_buffer.concat "\n\t\t"
;  end ; @output_buffer.concat "\n\t\trowspan=\""
; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\n\t\t\t<table class=\"blokinfo\" >\n\t\t\t\t<tr height=15px><td class=\"head_info\">"


; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t<span class=\"left\">"

; @output_buffer.concat(( @dl[1] ).to_s); @output_buffer.concat "</span>\n\t\t\t<span class=\"right\">"
;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t                  </td>\n \t\t\t\t</tr>\n\t\t\t</table>\n\n\t       </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t<td class=\"blokpusty\"></td>\n\t\t"

; end; @output_buffer.concat "\n\t     "
;  end ; @output_buffer.concat "\n\n        "

;  end ; @output_buffer.concat "\n\n\n\t"


;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n </td>\n</table>\n\n\n</div>\n"







; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `module_eval'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `compile!'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:61:in `compile'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:28:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1334:in `perform_action'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:201: syntax error, unexpected keyword_else, expecting keyword_end
;  else ; @output_buffer.concat "\n\t\t"
       ^
/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:222: syntax error, unexpected keyword_ensure, expecting $end) on line #201 of app/views/siatka/add.rhtml:
198: 			</table>
199: 
200: 	       </td>
201: 	     <% else %>
202: 		<% if @blok_ln[dn] != 0  %>
203: 			<% @blok_ln[dn] -= 1 %>
204: 			<!--<td>#<%= @blok %> <%= @blok_ln %></td>-->

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (16.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:02:58) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
ERROR: compiling _run_rhtml_app47views47siatka47add46rhtml RAISED /home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:220: syntax error, unexpected keyword_ensure, expecting $end
Function body: #coding:UTF-8
          def _run_rhtml_app47views47siatka47add46rhtml(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( stylesheet_link_tag 'plany' ).to_s); @output_buffer.concat "\n\n<h2> Dodanie wpisu </h2>\n<div align=\"center\" class=\"flashinfo\">\n<table>\n<tr>\n"





;  if !flash[:error].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'close32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  elsif !flash[:notice].nil? ; @output_buffer.concat "\n  <td width=\"50px\">"
; @output_buffer.concat(( image_tag 'accept32.png', :alt => 'informacja' ).to_s); @output_buffer.concat " </td>\n"
;  else ; @output_buffer.concat "\n\t<td> </td>\n"

;  end ; @output_buffer.concat "\n  <td><p>"
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat " "; @output_buffer.concat(( error_messages_for :plan ).to_s); @output_buffer.concat "</p>\n\t</td>\n</tr>\n</table>\n</div>\n<div>\n\t"





;  form_tag 'adding',{ :id => "edycjaplanow"}  do ; @output_buffer.concat "\n        "
;  @dodaj.godz = params[:godz] ; @output_buffer.concat "\n        "
;  @dodaj.dlugosc = params[:dlugosc] ; @output_buffer.concat "\n        "
;  @dodaj.dni = params[:dni] ; @output_buffer.concat "\n        "
;  @dodaj.rodzaj = params[:rodzaj] ; @output_buffer.concat "\n        "
;  @dodaj.czestotliwosc = params[:czestotliwosc] ; @output_buffer.concat "\n        "
;  @dodaj.grupa = params[:grupa] ; @output_buffer.concat "\n        "
;  @dodaj.katedra = params[:katedra] ; @output_buffer.concat "\n        "
;  @dodaj.budynek = params[:budynek] ; @output_buffer.concat "\n        "
;  @dodaj.uwagi = params[:uwagi] ; @output_buffer.concat "\n\n<center>\n<table class=\"formularz\">\n<tr>\n\t<td rowspan=3>\n\t\t"





; @output_buffer.concat(( collection_select(:dodaj, :grupa, Group.find(:all, :group => "nazwa"), :nazwa, :nazwa, {:prompt => "Wybierz grupe"}, :multiple => true, :size => 7) ).to_s); @output_buffer.concat "\n\t</td>\n\t<td class=\"label\">Godzina</td>\n\t<td>"


; @output_buffer.concat(( select :dodaj, :godz, @listagodz).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Prowadz\xC4\x85cy:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :lecturer, :lecture, { :value => params[:prowadzacy], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Sala</td>\n\t<td>\n\t\t<div style=\"width: 150px\"> "


; @output_buffer.concat(( text_field_with_auto_complete :room, :numer, { :value => params[:sala], :size => 5},{:method => :get, :min_chars => 0 } ).to_s); @output_buffer.concat "</div>\n\t</td>\n\t<td class=\"label\">D\xC5\x82ugo\xC5\x9B\xC4\x87 zaj\xC4\x99\xC4\x87:</td>\n\t<td>"


; @output_buffer.concat(( select(:dodaj, :dlugosc, @dlugosc, :selected => @dodaj.dlugosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Dzie\xC5\x84</td>\n  <td> "



; @output_buffer.concat(( select(:dodaj, :dni, @dni) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Przedmiot:</td>\n\t<td>"

; @output_buffer.concat(( text_field_with_auto_complete :subject, :nazwa, { :value => params[:przedmiot], :size => 20},{:method => :get } ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Rodzaj zaj\xC4\x99\xC4\x87:</td>\n  <td> "

; @output_buffer.concat(( select(:dodaj, :rodzaj, @r) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Cz\xC4\x99stotliwo\xC5\x9B\xC4\x87 zaj\xC4\x99c:</td>\n\t<td>"

; @output_buffer.concat(( select(:dodaj, :czestotliwosc, @czest, :selected => @dodaj.czestotliwosc.to_s, :include_blank => false ) ).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n\t<td class=\"label\">Katedra</td>\n\t<td>"



; @output_buffer.concat(( collection_select(:dodaj,:katedra, Department.find(:all), :nazwa, :nazwa, {:prompt => "Wybierz katedre"}) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Budynek:</td>\n\t<td>"

; @output_buffer.concat(( collection_select(:dodaj,:budynek,Building.find(:all).sort {|a,b| a.nazwa <=> b.nazwa}, :nazwa, :nazwa) ).to_s); @output_buffer.concat "</td>\n\t<td class=\"label\">Uwagi:</td>\n\t<td>"

; @output_buffer.concat(( text_field 'dodaj', 'uwagi', :size => 20).to_s); @output_buffer.concat "</td>\n</tr>\n<tr>\n</tr>\n</table></center>\n\t"




; @output_buffer.concat(( submit_tag "WyÅlij" ).to_s); @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n</div>\n<br />\n\n\n"




; @output_buffer.concat(( observe_form :edycjaplanow,
		:frequency => 1,
		:update => "Eplany",
		:complete => "Element.show('Eplany')",
		:url => { :action => "preview" }
).to_s); @output_buffer.concat "\n\n<div id=\"Eplany\">\n<table border=0 width=\"100%\" id=\"glowny\">\n<tr>\n<td width=\"50%\">\n\nSala: "






; @output_buffer.concat(( params[:sala] ).to_s); @output_buffer.concat "\n</td>\n<td width=\"50%\">\nGrupa: "


; @output_buffer.concat(( params[:grupa] ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td width=\"50%\">\n\n    <table class=\"plan\">\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n         <th>Pon</th>\n         <th>Wtorek</th>\n         <th>\xC5\x9Aroda</th>\n         <th>Czwartek</th>\n         <th>Pi\xC4\x85tek</th>\n\t</tr>\n\t"














;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n       "
;  if @j == 1 ; @output_buffer.concat "\n\t        <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "</td>\n\t \t   "
;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n       "
;  @dl = @qwe1[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t\t\t "
;  @blok += 1 ; @output_buffer.concat "\n\t\t\t   "
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t\t \t "
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td "
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat " rowspan=\""; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\t\t\t  \t <table class=\"blokinfo\" >\n\t\t\t\t\t\t<tr height=15px><td class=\"head_info\">"

; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t\t\t\t\t<span class=\"left\">\n\t\t\t\t\t\t\t "


;  for i in @dl ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  if i.include?("gr.") ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
; @output_buffer.concat(( i ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n\t\t\t\t\t\t\t "
;  end ; @output_buffer.concat "\n \t\t\t\t\t\t\t</span>\n\t\t\t\t\t <span class=\"right\">"

;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t\t\t</td>\n \t\t\t\t\t</tr>\n\t\t\t\t </table>\n\n\t     </td>\n\t     "





;  else ; @output_buffer.concat "\n\t\t\t\t"
;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t\t\t"
;  else ; @output_buffer.concat "\n\t\t\t\t<td class=\"blokpusty\"></td>\n\t\t\t\t"

; end; @output_buffer.concat "\n\t    "
;  end ; @output_buffer.concat "\n  \t\t"
;  end ; @output_buffer.concat "\n\t"
;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n\n </td>\n <td width=\"50%\">\n    <table class=\"plan\">\n\n\t<tr style=\"font-size:small\">\n\t    <th id=\"tableHeader\"> Godz </th>\n            <th>Pon</th>\n            <th>Wtorek</th>\n            <th>\xC5\x9Aroda</th>\n            <th>Czwartek</th>\n            <th>Pi\xC4\x85tek</th>\n\t</tr>\n\n\t"
















;  @i = 3 ; @output_buffer.concat "\n\t"
;  for go in @godz1 ; @output_buffer.concat "\n\t  "
;  @i += 1 ; @output_buffer.concat "\n\t  "
;  @j += 1 ; @output_buffer.concat "\n\t  <tr height=\"25\">\n\t   "

;  @j == 4 ? @j=0 : "" ; @output_buffer.concat "\n           "
;  if @j == 1 ; @output_buffer.concat "\n\t    <td class=\"hour\" rowspan=\"4\">"
; @output_buffer.concat(( go + "-#{@godz[@i]}" ).to_s); @output_buffer.concat "\n\t    </td>\n\t   "

;  end ; @output_buffer.concat "\n\t   "
;  for dn in @dni ; @output_buffer.concat "\n             "
;  @dl = @qwe[go][dn].to_s.split("::") ; @output_buffer.concat "\n\t     "
;  if @dl[2].to_i != 0 ; @output_buffer.concat "\n\t\t"
;  @blok += 1 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] = @dl[2].to_i * 3 ; @output_buffer.concat "\n\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t       <td\n\t       "

;  if !@dl[5].include?("rezerwacja") ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-w'" : "class='blok-cw'" ).to_s); @output_buffer.concat "\n\t\t"
;  else ; @output_buffer.concat "\n\t       \t"
; @output_buffer.concat(( @dl[4] == "W" ? "class='blok-wr'" : "class='blok-cwr'" ).to_s); @output_buffer.concat "\n\t\t"
;  end ; @output_buffer.concat "\n\t\trowspan=\""
; @output_buffer.concat(( @dl[2].to_i * 3 ).to_s); @output_buffer.concat "\" >\n\n\t\t\t<table class=\"blokinfo\" >\n\t\t\t\t<tr height=15px><td class=\"head_info\">"


; @output_buffer.concat(( @dl[4] ).to_s); @output_buffer.concat " </td></tr>\n\t\t\t\t<tr height=25%><td class=\"middle_info\"><b>"
; @output_buffer.concat(( @dl[3] ).to_s); @output_buffer.concat "</b><br/><small>"; @output_buffer.concat(( @dl[0] ).to_s); @output_buffer.concat "</small></b></td></tr>\n\t\t\t\t<tr height=15px><td class=\"bottom_info\">\n\t\t\t<span class=\"left\">"

; @output_buffer.concat(( @dl[1] ).to_s); @output_buffer.concat "</span>\n\t\t\t<span class=\"right\">"
;  @dl[6] == "A0" ? @b="#{@dl[5]}" : @b="#{@dl[6]}, #{@dl[5]}" ; @output_buffer.concat "</span><br/>\n\t\t\t\t"
; @output_buffer.concat(( link_to("Edytuj", {:controller => 'siatka', :action => 'edit', :params => { :id => @dl[5] }}) ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t                  </td>\n \t\t\t\t</tr>\n\t\t\t</table>\n\n\t\t"




;  if @blok_ln[dn] != 0  ; @output_buffer.concat "\n\t\t\t"
;  @blok_ln[dn] -= 1 ; @output_buffer.concat "\n\t\t\t<!--<td>#"
; @output_buffer.concat(( @blok ).to_s); @output_buffer.concat " "; @output_buffer.concat(( @blok_ln ).to_s); @output_buffer.concat "</td>-->\n\t\t"
;  else ; @output_buffer.concat "\n\t\t\t<td class=\"blokpusty\"></td>\n\t\t"

; end; @output_buffer.concat "\n\t     "
;  end ; @output_buffer.concat "\n\n        "

;  end ; @output_buffer.concat "\n\n\n\t"


;  end ; @output_buffer.concat "\n\t</tr>\n      </table>\n </td>\n</table>\n\n\n</div>\n"







; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `module_eval'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:91:in `compile!'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:61:in `compile'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/renderable.rb:28:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:1334:in `perform_action'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activesupport-2.3.15/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action_with_flash'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process_with_filters'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `block in build_middleware_stack'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/head.rb:9:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/methodoverride.rb:24:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:10:in `synchronize'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/lock.rb:11:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:47:in `block in call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `each'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/urlmap.rb:41:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/content_length.rb:13:in `call'
/home/mtfk/.rvm/gems/ruby-1.9.3-p194/gems/rack-1.1.5/lib/rack/handler/webrick.rb:48:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
/home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

ActionView::TemplateError (/home/FILES/Workspace/Siatka/siatka_upgrade/siatka/app/views/siatka/add.rhtml:220: syntax error, unexpected keyword_ensure, expecting $end) on line #220 of app/views/siatka/add.rhtml:
217: 
218: </div>

    <internal:prelude>:10:in `synchronize'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
    /home/mtfk/.rvm/rubies/ruby-1.9.3-p194/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'

Rendered rescues/_trace (15.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:03:17) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
  [4;35;1mGroup Load (0.4ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mBuilding Load (0.2ms)[0m   [0mSELECT * FROM "buildings" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 106ms (View: 90, DB: 2) | 200 OK [http://localhost/siatka/add]
  [4;36;1mSQL (1.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mRoom Load (0.5ms)[0m   [0mSELECT * FROM "rooms" [0m
  [4;36;1mRoom Create (0.9ms)[0m   [0;1mINSERT INTO "rooms" ("numer", "opiekun", "rodzaj", "created_at", "updated_at", "ilosc_miejsc", "budynek_id", "uwagi") VALUES(120, NULL, 'W', '2013-02-03 22:04:21', '2013-02-03 22:04:21', NULL, NULL, NULL)[0m
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:04:24) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
  [4;36;1mGroup Load (0.4ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mBuilding Load (0.2ms)[0m   [0;1mSELECT * FROM "buildings" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 90ms (View: 78, DB: 2) | 200 OK [http://localhost/siatka/add]
  [4;35;1mRoom Load (1.2ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:04:26) [GET]
  Parameters: {"room"=>{"numer"=>"1"}}
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%1%') ORDER BY numer ASC LIMIT 10[0m
Completed in 20ms (View: 16, DB: 2) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=1]
  [4;35;1mRoom Load (1.2ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:04:26) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>"1"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.3ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 72ms (View: 49, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:04:27) [GET]
  Parameters: {"room"=>{"numer"=>"12"}}
  [4;35;1mRoom Load (33.3ms)[0m   [0mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%12%') ORDER BY numer ASC LIMIT 10[0m
Completed in 38ms (View: 2, DB: 34) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=12]
  [4;36;1mRoom Load (2.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:04:27) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>"12"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.3ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '12' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 61ms (View: 4, DB: 3) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (2.8ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:04:29) [GET]
  Parameters: {"room"=>{"numer"=>"120"}}
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%120%') ORDER BY numer ASC LIMIT 10[0m
Completed in 5ms (View: 1, DB: 3) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=120]
  [4;35;1mRoom Load (2.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:04:29) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.2ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 23ms (View: 4, DB: 3) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.4ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:04:33) [GET]
  Parameters: {"room"=>{"numer"=>"120"}}
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%120%') ORDER BY numer ASC LIMIT 10[0m
Completed in 8ms (View: 2, DB: 2) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=120]
  [4;35;1mGroup Load (0.5ms)[0m   [0mSELECT * FROM "groups" [0m
  [4;36;1mGroup Create (0.7ms)[0m   [0;1mINSERT INTO "groups" ("nazwa", "liczba", "created_at", "updated_at", "rok", "kurs", "kierunek", "grupa", "podgrupa") VALUES('1IN1', NULL, '2013-02-03 22:05:16', '2013-02-03 22:05:16', 1, NULL, NULL, 1, NULL)[0m
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:05:17) [GET]
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
  [4;36;1mGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mBuilding Load (0.2ms)[0m   [0;1mSELECT * FROM "buildings" [0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 97ms (View: 84, DB: 3) | 200 OK [http://localhost/siatka/add]
  [4;35;1mRoom Load (1.0ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:19) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>""}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.3ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.4ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.4ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 40ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:22) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>"12"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '12' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 69ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (1.0ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:05:22) [GET]
  Parameters: {"room"=>{"numer"=>"12"}}
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%12%') ORDER BY numer ASC LIMIT 10[0m
Completed in 5ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=12]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_room_numer (for 127.0.0.1 at 2013-02-03 23:05:23) [GET]
  Parameters: {"room"=>{"numer"=>"120"}}
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" WHERE (LOWER(numer) LIKE '%120%') ORDER BY numer ASC LIMIT 10[0m
Completed in 5ms (View: 1, DB: 2) | 200 OK [http://localhost/siatka/auto_complete_for_room_numer?room%5Bnumer%5D=120]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:23) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>""}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.2ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.4ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 39ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:30) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"A"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.4ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 70ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (2.5ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:31) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni K"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.5ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.5ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 143ms (View: 4, DB: 4) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.1ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_lecturer_lecture (for 127.0.0.1 at 2013-02-03 23:05:32) [GET]
  Parameters: {"lecturer"=>{"lecture"=>"Antoni Kow"}}
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" WHERE (LOWER(lecture) LIKE '%antoni kow%') ORDER BY lecture ASC LIMIT 10[0m
Completed in 7ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/auto_complete_for_lecturer_lecture?lecturer%5Blecture%5D=Antoni%20Kow]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:32) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowl"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 36ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_lecturer_lecture (for 127.0.0.1 at 2013-02-03 23:05:32) [GET]
  Parameters: {"lecturer"=>{"lecture"=>"Antoni Kowl"}}
  [4;36;1mLecturer Load (0.3ms)[0m   [0;1mSELECT * FROM "lecturers" WHERE (LOWER(lecture) LIKE '%antoni kowl%') ORDER BY lecture ASC LIMIT 10[0m
Completed in 7ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/auto_complete_for_lecturer_lecture?lecturer%5Blecture%5D=Antoni%20Kowl]
  [4;35;1mRoom Load (1.0ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:33) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczy"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.3ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 69ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_lecturer_lecture (for 127.0.0.1 at 2013-02-03 23:05:33) [GET]
  Parameters: {"lecturer"=>{"lecture"=>"Antoni Kowalczy"}}
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" WHERE (LOWER(lecture) LIKE '%antoni kowalczy%') ORDER BY lecture ASC LIMIT 10[0m
Completed in 7ms (View: 1, DB: 1) | 200 OK [http://localhost/siatka/auto_complete_for_lecturer_lecture?lecturer%5Blecture%5D=Antoni%20Kowalczy]
  [4;36;1mRoom Load (59.2ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_lecturer_lecture (for 127.0.0.1 at 2013-02-03 23:05:34) [GET]
  Parameters: {"lecturer"=>{"lecture"=>"Antoni Kowalczyk"}}
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" WHERE (LOWER(lecture) LIKE '%antoni kowalczyk%') ORDER BY lecture ASC LIMIT 10[0m
Completed in 7ms (View: 1, DB: 59) | 200 OK [http://localhost/siatka/auto_complete_for_lecturer_lecture?lecturer%5Blecture%5D=Antoni%20Kowalczyk]
  [4;36;1mRoom Load (2.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:34) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczyk"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>""}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 49ms (View: 4, DB: 4) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (2.6ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:36) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczyk"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>"Matema"}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.2ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.4ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 78ms (View: 4, DB: 4) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (2.7ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#auto_complete_for_subject_nazwa (for 127.0.0.1 at 2013-02-03 23:05:37) [GET]
  Parameters: {"subject"=>{"nazwa"=>"Matematyka"}}
  [4;35;1mSubject Load (0.6ms)[0m   [0mSELECT * FROM "subjects" WHERE (LOWER(nazwa) LIKE '%matematyka%') ORDER BY nazwa ASC LIMIT 10[0m
Completed in 96ms (View: 3, DB: 3) | 200 OK [http://localhost/siatka/auto_complete_for_subject_nazwa?subject%5Bnazwa%5D=Matematyka]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:37) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"420", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczyk"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>"Matematyka"}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 71ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#preview (for 127.0.0.1 at 2013-02-03 23:05:39) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"480", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczyk"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>"Matematyka"}, "commit"=>"Wy\xC5\x9Blij", "_"=>""}
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.2ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.3ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
Rendering siatka/preview
Completed in 35ms (View: 4, DB: 2) | 200 OK [http://localhost/siatka/preview]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#adding (for 127.0.0.1 at 2013-02-03 23:05:41) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "dodaj"=>{"grupa"=>["1IN1"], "godz"=>"480", "dlugosc"=>"1", "dni"=>"pon", "rodzaj"=>"W", "czestotliwosc"=>"1", "katedra"=>"", "uwagi"=>""}, "lecturer"=>{"lecture"=>"Antoni Kowalczyk"}, "room"=>{"numer"=>"120"}, "subject"=>{"nazwa"=>"Matematyka"}, "commit"=>"Wy\xC5\x9Blij"}
  [4;35;1mSubject Load (0.2ms)[0m   [0mSELECT * FROM "subjects" WHERE ("subjects"."nazwa" = 'Matematyka') LIMIT 1[0m
  [4;36;1mSubject Create (0.4ms)[0m   [0;1mINSERT INTO "subjects" ("nazwa", "katedra", "created_at", "updated_at") VALUES('Matematyka', '', '2013-02-03 22:05:41', '2013-02-03 22:05:41')[0m
  [4;35;1mLecturer Load (0.3ms)[0m   [0mSELECT * FROM "lecturers" WHERE ("lecturers"."lecture" = 'Antoni Kowalczyk') LIMIT 1[0m
  [4;36;1mLecturer Create (0.7ms)[0m   [0;1mINSERT INTO "lecturers" ("title", "lecture", "created_at", "updated_at") VALUES(NULL, 'Antoni Kowalczyk', '2013-02-03 22:05:41', '2013-02-03 22:05:41')[0m
  [4;35;1mSetting Load (0.6ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.6ms)[0m   [0;1mSELECT * FROM "plans" WHERE (id NOT LIKE '' AND sala = '120' AND dni = 'pon' AND plan_id = '2') [0m
  [4;35;1mReservation Load (0.6ms)[0m   [0mSELECT * FROM "reservations" WHERE (sala = '120' AND dni ='pon' AND id NOT LIKE '' AND waznosc >= '2013-02-03') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.5ms)[0m   [0mSELECT * FROM "plans" WHERE (id NOT LIKE '' AND prowadzacy LIKE '' AND plan_id = '2' AND dni LIKE 'pon' AND sala LIKE 'pon') [0m
  [4;36;1mFreeday Load (0.6ms)[0m   [0;1mSELECT * FROM "freedays" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.8ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ( plans.plan_id = 2 AND groups.nazwa = '1I' AND dni = 'pon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "freedays" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.8ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ( plans.plan_id = 2 AND dni = 'pon' AND groups.nazwa = '1IN1') [0m
  [4;36;1mSetting Load (0.4ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mPlan Create (0.7ms)[0m   [0mINSERT INTO "plans" ("godz", "dni", "prowadzacy", "budynek", "sala", "katedra", "grupa", "przedmiot", "rodzaj", "dlugosc", "czestotliwosc", "uwagi", "created_at", "updated_at", "wazneod", "waznedo", "plan_id") VALUES('480', 'pon', 'Antoni Kowalczyk', NULL, '120', '', NULL, 'Matematyka', 'W', 1, 1, '', '2013-02-03 22:05:41', '2013-02-03 22:05:41', NULL, NULL, 2)[0m
  [4;36;1mGroup Load (1.5ms)[0m   [0;1mSELECT * FROM "groups" WHERE ("groups"."nazwa" = '1IN1') LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mINSERT INTO "groups_plans" ("group_id", "plan_id", "created_at", "updated_at") VALUES (1, 1, '2013-02-03 22:05:41', '2013-02-03 22:05:41')[0m
Redirected to http://localhost:3000/siatka/add?czestotliwosc=1&dlugosc=1&dni=pon&godz=480&grupa%5B%5D=1IN1&katedra=&prowadzacy=Antoni+Kowalczyk&przedmiot=Matematyka&rodzaj=W&sala=120&uwagi=
Completed in 1015ms (DB: 10) | 302 Found [http://localhost/siatka/adding]
  [4;36;1mRoom Load (2.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:05:42) [GET]
  Parameters: {"czestotliwosc"=>"1", "dlugosc"=>"1", "dni"=>"pon", "godz"=>"480", "grupa"=>["1IN1"], "katedra"=>"", "prowadzacy"=>"Antoni Kowalczyk", "przedmiot"=>"Matematyka", "rodzaj"=>"W", "sala"=>"120", "uwagi"=>""}
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (0.4ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1I' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load Including Associations (1.1ms)[0m   [0mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("groups"."nazwa" = '1IN1' AND "plans"."plan_id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (0.7ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;36;1mGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "groups" INNER JOIN "groups_plans" ON "groups".id = "groups_plans".group_id WHERE ("groups_plans".plan_id = 1 ) [0m
Rendering template within layouts/siatka
Rendering siatka/add
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mBuilding Load (0.2ms)[0m   [0mSELECT * FROM "buildings" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 125ms (View: 28, DB: 7) | 200 OK [http://localhost/siatka/add?czestotliwosc=1&dlugosc=1&dni=pon&godz=480&grupa%5B%5D=1IN1&katedra=&prowadzacy=Antoni+Kowalczyk&przedmiot=Matematyka&rodzaj=W&sala=120&uwagi=]
  [4;36;1mRoom Load (2.6ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#edit (for 127.0.0.1 at 2013-02-03 23:05:44) [GET]
  Parameters: {"id"=>"ID:1"}
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" [0m
  [4;36;1mPlan Load (0.8ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."id" = '1') LIMIT 1[0m
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM "groups" INNER JOIN "groups_plans" ON "groups".id = "groups_plans".group_id WHERE ("groups_plans".plan_id = 1 ) [0m
Rendering template within layouts/siatka
Rendering siatka/edit
  [4;36;1mGroup Load (0.8ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mBuilding Load (0.2ms)[0m   [0;1mSELECT * FROM "buildings" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 107ms (View: 42, DB: 6) | 200 OK [http://localhost/siatka/edit/ID:1]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:05:49) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.4ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.8ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 87ms (View: 81, DB: 4) | 200 OK [http://localhost/siatka]


Processing MainController#rezerwacje (for 127.0.0.1 at 2013-02-03 23:05:51) [GET]
  Parameters: {"room"=>{"sala"=>"120"}, "commit"=>"Poka\xC5\xBC"}
  [4;35;1mReservation Load (0.2ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-28') AND "reservations"."sala" = '120') [0m
  [4;36;1mReservation Load (0.2ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-29') AND "reservations"."sala" = '120') [0m
  [4;35;1mReservation Load (0.2ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-30') AND "reservations"."sala" = '120') [0m
  [4;36;1mReservation Load (0.2ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-31') AND "reservations"."sala" = '120') [0m
  [4;35;1mReservation Load (0.2ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-01') AND "reservations"."sala" = '120') [0m
  [4;36;1mReservation Load (0.2ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-02') AND "reservations"."sala" = '120') [0m
  [4;35;1mReservation Load (0.2ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-03') AND "reservations"."sala" = '120') [0m
Rendering template within layouts/main
Rendering main/rezerwacje
  [4;36;1mRoom Load (0.9ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 94ms (View: 77, DB: 3) | 200 OK [http://localhost/main/rezerwacje?room%5Bsala%5D=120&commit=Poka%C5%BC]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:05:54) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.4ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.8ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 89ms (View: 84, DB: 4) | 200 OK [http://localhost/siatka]


Processing MainController#showroom (for 127.0.0.1 at 2013-02-03 23:05:56) [GET]
  Parameters: {"room"=>{"sala"=>"120"}, "commit"=>"Poka\xC5\xBC"}
  [4;35;1mSetting Load (0.6ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 1) [0m
Rendering template within layouts/main
Rendering main/showroom
  [4;35;1mRoom Load (0.8ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 136ms (View: 95, DB: 3) | 200 OK [http://localhost/main/showroom?room%5Bsala%5D=120&commit=Poka%C5%BC]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:06:00) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.4ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.8ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 85ms (View: 80, DB: 4) | 200 OK [http://localhost/siatka]
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 23:06:01) [GET]
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "schedules" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) LIMIT 1[0m
Completed in 63ms (View: 57, DB: 2) | 200 OK [http://localhost/siatka/konfiguracja]
  [4;36;1mRoom Load (1.1ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#konfiguracja (for 127.0.0.1 at 2013-02-03 23:06:05) [POST]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "config"=>{"current_plan"=>"2", "plan_to_edit"=>"2"}, "commit"=>"Zapisz"}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSetting Update (0.3ms)[0m   [0;1mUPDATE "settings" SET "current_plan" = 2, "updated_at" = '2013-02-03 22:06:05' WHERE "id" = 1[0m
Rendering template within layouts/siatka
Rendering siatka/konfiguracja
  [4;35;1mSchedule Load (0.7ms)[0m   [0mSELECT * FROM "schedules" [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "schedules" [0m
  [4;35;1mSetting Load (0.5ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.5ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 222ms (View: 33, DB: 3) | 200 OK [http://localhost/siatka/konfiguracja]
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:06:06) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.4ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.8ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 85ms (View: 80, DB: 4) | 200 OK [http://localhost/siatka]


Processing MainController#showroom (for 127.0.0.1 at 2013-02-03 23:06:10) [GET]
  Parameters: {"room"=>{"sala"=>"120"}, "commit"=>"Poka\xC5\xBC"}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.7ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."sala" = '120' AND "plans"."plan_id" = 2) [0m
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT "groups".*, t0.plan_id as the_parent_record_id FROM "groups" INNER JOIN "groups_plans" t0 ON "groups".id = t0.group_id WHERE (t0.plan_id = 1) [0m
Rendering template within layouts/main
Rendering main/showroom
  [4;36;1mRoom Load (0.8ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 97ms (View: 24, DB: 3) | 200 OK [http://localhost/main/showroom?room%5Bsala%5D=120&commit=Poka%C5%BC]
  [4;35;1mRoom Load (1.0ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:06:12) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;36;1mRoom Load (0.7ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.4ms)[0m   [0;1mSELECT * FROM "lecturers" [0m
  [4;35;1mGroup Load (0.7ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 84ms (View: 79, DB: 4) | 200 OK [http://localhost/siatka]
  [4;35;1mRoom Load (1.2ms)[0m   [0mSELECT * FROM "rooms" [0m


Processing SiatkaController#add (for 127.0.0.1 at 2013-02-03 23:06:17) [GET]
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" [0m
Rendering template within layouts/siatka
Rendering siatka/add
  [4;35;1mGroup Load (0.8ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.2ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mBuilding Load (0.2ms)[0m   [0mSELECT * FROM "buildings" [0m
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 101ms (View: 87, DB: 3) | 200 OK [http://localhost/siatka/add]
  [4;36;1mRoom Load (1.1ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 127.0.0.1 at 2013-02-03 23:06:22) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (0.8ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.4ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (0.7ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 83ms (View: 78, DB: 4) | 200 OK [http://localhost/siatka]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 23:06:25) [GET]
  [4;36;1mSchedule Load (1.8ms)[0m   [0;1mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 98ms (View: 79, DB: 2) | 200 OK [http://localhost/schedules/]


Processing SchedulesController#edit (for 127.0.0.1 at 2013-02-03 23:06:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSchedule Load (0.5ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/schedules
Rendering schedules/edit
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 69ms (View: 48, DB: 1) | 200 OK [http://localhost/schedules/1/edit]


Processing SchedulesController#update (for 127.0.0.1 at 2013-02-03 23:06:33) [PUT]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "schedule"=>{"nazwa"=>"Zimowy", "rok"=>"2012/2013"}, "commit"=>"Update", "id"=>"1"}
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
  [4;35;1mSchedule Update (0.3ms)[0m   [0mUPDATE "schedules" SET "nazwa" = 'Zimowy', "updated_at" = '2013-02-03 22:06:33' WHERE "id" = 1[0m
Redirected to http://localhost:3000/schedules/1
Completed in 193ms (DB: 1) | 302 Found [http://localhost/schedules/1]


Processing SchedulesController#show (for 127.0.0.1 at 2013-02-03 23:06:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 1) [0m
Rendering template within layouts/schedules
Rendering schedules/show
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 28ms (View: 18, DB: 1) | 200 OK [http://localhost/schedules/1]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 23:06:34) [GET]
  [4;35;1mSchedule Load (0.7ms)[0m   [0mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 83ms (View: 16, DB: 1) | 200 OK [http://localhost/schedules]


Processing SchedulesController#edit (for 127.0.0.1 at 2013-02-03 23:06:36) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) [0m
Rendering template within layouts/schedules
Rendering schedules/edit
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 64ms (View: 54, DB: 1) | 200 OK [http://localhost/schedules/2/edit]


Processing SchedulesController#update (for 127.0.0.1 at 2013-02-03 23:06:39) [PUT]
  Parameters: {"authenticity_token"=>"I47ovEb/vtNQqzmjcggwe76QjrV/gjkENc0N41a1zos=", "schedule"=>{"nazwa"=>"Letni", "rok"=>"2012/2013"}, "commit"=>"Update", "id"=>"2"}
  [4;35;1mSchedule Load (0.5ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) [0m
  [4;36;1mSchedule Update (0.6ms)[0m   [0;1mUPDATE "schedules" SET "nazwa" = 'Letni', "updated_at" = '2013-02-03 22:06:39' WHERE "id" = 2[0m
Redirected to http://localhost:3000/schedules/2
Completed in 185ms (DB: 1) | 302 Found [http://localhost/schedules/2]


Processing SchedulesController#show (for 127.0.0.1 at 2013-02-03 23:06:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) [0m
Rendering template within layouts/schedules
Rendering schedules/show
  [4;36;1mSetting Load (0.3ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/schedules/2]


Processing SchedulesController#index (for 127.0.0.1 at 2013-02-03 23:06:41) [GET]
  [4;36;1mSchedule Load (0.7ms)[0m   [0;1mSELECT * FROM "schedules" [0m
Rendering template within layouts/schedules
Rendering schedules/index
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.3ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 25ms (View: 16, DB: 1) | 200 OK [http://localhost/schedules]


Processing MainController#index (for 127.0.0.1 at 2013-02-03 23:06:42) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (1.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.4ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.8ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.2ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.3ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 135ms (View: 130, DB: 3) | 200 OK [http://localhost/]


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:13:53) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.3ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.1ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.3ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 141ms (View: 137, DB: 2) | 200 OK [http://opensoftware.pl/]


Processing MainController#showroom (for 188.113.109.165 at 2013-02-03 22:14:16) [GET]
  Parameters: {"commit"=>"PokaÅ¼", "room"=>{"sala"=>"120"}}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load (0.2ms)[0m   [0;1mSELECT * FROM "plans" WHERE ("plans"."plan_id" = 2 AND "plans"."sala" = '120') [0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT "groups".*, t0.plan_id as the_parent_record_id FROM "groups" INNER JOIN "groups_plans" t0 ON "groups".id = t0.group_id WHERE (t0.plan_id = 1) [0m
Rendering template within layouts/main
Rendering main/showroom
  [4;36;1mRoom Load (0.3ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.1ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 45ms (View: 23, DB: 1) | 200 OK [http://opensoftware.pl/main/showroom?room%5Bsala%5D=120&commit=Poka%C5%BC]


Processing MainController#showgroup (for 188.113.109.165 at 2013-02-03 22:14:21) [GET]
  Parameters: {"plan"=>{"id"=>"1IN1"}, "commit"=>"PokaÅ¼"}
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.3ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("plans"."plan_id" = 2 AND "groups"."nazwa" = '1I') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;36;1mPlan Load Including Associations (0.4ms)[0m   [0;1mSELECT "plans"."id" AS t0_r0, "plans"."godz" AS t0_r1, "plans"."dni" AS t0_r2, "plans"."prowadzacy" AS t0_r3, "plans"."budynek" AS t0_r4, "plans"."sala" AS t0_r5, "plans"."katedra" AS t0_r6, "plans"."grupa" AS t0_r7, "plans"."przedmiot" AS t0_r8, "plans"."rodzaj" AS t0_r9, "plans"."dlugosc" AS t0_r10, "plans"."czestotliwosc" AS t0_r11, "plans"."uwagi" AS t0_r12, "plans"."created_at" AS t0_r13, "plans"."updated_at" AS t0_r14, "plans"."wazneod" AS t0_r15, "plans"."waznedo" AS t0_r16, "plans"."plan_id" AS t0_r17, "groups"."id" AS t1_r0, "groups"."nazwa" AS t1_r1, "groups"."liczba" AS t1_r2, "groups"."created_at" AS t1_r3, "groups"."updated_at" AS t1_r4, "groups"."rok" AS t1_r5, "groups"."kurs" AS t1_r6, "groups"."kierunek" AS t1_r7, "groups"."grupa" AS t1_r8, "groups"."podgrupa" AS t1_r9 FROM "plans" LEFT OUTER JOIN "groups_plans" ON "groups_plans".plan_id = "plans".id LEFT OUTER JOIN "groups" ON "groups".id = "groups_plans".group_id WHERE ("plans"."plan_id" = 2 AND "groups"."nazwa" = '1IN1') [0m
Rendering template within layouts/main
Rendering main/showgroup
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.1ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 43ms (View: 20, DB: 1) | 200 OK [http://opensoftware.pl/main/showgroup?plan%5Bid%5D=1IN1&commit=Poka%C5%BC]


Processing MainController#index (for 77.236.15.80 at 2013-02-03 22:14:21) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.9ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.2ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.1ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 39ms (View: 35, DB: 2) | 200 OK [http://opensoftware.pl/]


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:14:24) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (0.7ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (0.2ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.1ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 40ms (View: 36, DB: 2) | 200 OK [http://opensoftware.pl/]


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:16:43) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.1ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (0.3ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.1ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 2) LIMIT 1[0m
Completed in 124ms (View: 120, DB: 2) | 200 OK [http://opensoftware.pl/]
  [4;36;1mRoom Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms" [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreatePlans (3)
Migrating to CreateRooms (4)
Migrating to CreateGroups (5)
Migrating to CreateLecturers (6)
Migrating to CreateDepartments (7)
Migrating to CreateBuildings (8)
Migrating to CreateSubjects (9)
Migrating to CreateUsers (10)
Migrating to CreateRoles (11)
Migrating to CreateReservations (12)
Migrating to AddNewColumnToPlan (13)
Migrating to AddNewTable (20090105210400)
Migrating to AddNewTypeForSala (20090105225005)
Migrating to CreateSettings (20090202143425)
Migrating to CreateOldPlans (20090202150455)
Migrating to CreateNewPlans (20090202150505)
Migrating to AddNewColumnToSettings (20090207003344)
Migrating to CreateFreedays (20090210212623)
Migrating to ChangeTypeRoomReservation (20090211004504)
Migrating to AddColumnToRooms (20090222091849)
Migrating to RemoveOldColumnsFromRooms (20090222091909)
Migrating to AddPlansGroupTable (20090306210824)
Migrating to CreateSchedules (20090308182228)
Migrating to AddColumnToPlan (20090308184329)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("freedays")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("groups_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("new_plans")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("old_plans")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("reservations")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("roles")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("roles_users")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:56:40) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms" GROUP BY numer[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms"  GROUP BY numer) on line #9 of app/views/main/index.rhtml:
6:   <td> Rezerwacje: </td>
7:   	<td>
8:   	<% form_tag '/main/rezerwacje', {:method => 'get'} do %>
9: 	<%= collection_select(:room,:sala, Room.find(:all, :group => "numer").sort {|x,y| x.numer.to_i <=> y.numer.to_i}, :numer, :numer, {:prompt => "Wybierz sale"}) %>
10: <%= submit_tag "PokaÅ¼" %><% end %>
11: 	</td>
12:   <td></td>

    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract_adapter.rb:227:in `log'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:172:in `execute'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:418:in `catch_schema_changes'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:172:in `execute'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:321:in `select'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:665:in `find_by_sql'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:1582:in `find_every'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:619:in `find'
    app/views/main/index.rhtml:9:in `_run_rhtml_app47views47main47index46rhtml'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `capture'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `capture'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/form_tag_helper.rb:469:in `form_tag_in_block'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/form_tag_helper.rb:39:in `form_tag'
    app/views/main/index.rhtml:8:in `_run_rhtml_app47views47main47index46rhtml'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:34:in `send'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:34:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:306:in `with_template'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:30:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render_without_benchmark'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1340:in `perform_action_without_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `send'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process_without_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/commands/server.rb:111

Rendered rescues/_trace (121.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:57:34) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms" GROUP BY numer[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: rooms: SELECT * FROM "rooms"  GROUP BY numer) on line #9 of app/views/main/index.rhtml:
6:   <td> Rezerwacje: </td>
7:   	<td>
8:   	<% form_tag '/main/rezerwacje', {:method => 'get'} do %>
9: 	<%= collection_select(:room,:sala, Room.find(:all, :group => "numer").sort {|x,y| x.numer.to_i <=> y.numer.to_i}, :numer, :numer, {:prompt => "Wybierz sale"}) %>
10: <%= submit_tag "PokaÅ¼" %><% end %>
11: 	</td>
12:   <td></td>

    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract_adapter.rb:227:in `log'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:172:in `execute'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:418:in `catch_schema_changes'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:172:in `execute'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/sqlite_adapter.rb:321:in `select'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/database_statements.rb:7:in `select_all_without_query_cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:81:in `cache_sql'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:60:in `select_all'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:665:in `find_by_sql'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:1582:in `find_every'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/base.rb:619:in `find'
    app/views/main/index.rhtml:9:in `_run_rhtml_app47views47main47index46rhtml'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `capture'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/capture_helper.rb:36:in `capture'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/form_tag_helper.rb:469:in `form_tag_in_block'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/helpers/form_tag_helper.rb:39:in `form_tag'
    app/views/main/index.rhtml:8:in `_run_rhtml_app47views47main47index46rhtml'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:34:in `send'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:34:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:306:in `with_template'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/renderable.rb:30:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/template.rb:205:in `render_template'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:265:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:348:in `_render_with_layout'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_view/base.rb:262:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1252:in `render_for_file'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:936:in `render_without_benchmark'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:51:in `render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1328:in `default_render'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:1340:in `perform_action_without_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:617:in `call_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/flash.rb:151:in `perform_action'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `send'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:532:in `process_without_filters'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/filters.rb:606:in `process'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:391:in `process'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/base.rb:386:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/routing/route_set.rb:438:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:87:in `dispatch'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:121:in `_call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:29:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:9:in `cache'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/query_cache.rb:28:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/activerecord-2.3.15/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/string_coercion.rb:25:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/params_parser.rb:15:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/session/cookie_store.rb:99:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/failsafe.rb:26:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:114:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/reloader.rb:34:in `run'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/actionpack-2.3.15/lib/action_controller/dispatcher.rb:108:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/rails/rack/static.rb:31:in `call'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/rails/rack/log_tailer.rb:17:in `call'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /var/rails_app//.rvm/rubies/ruby-1.8.7-p352/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /var/rails_app/.rvm/gems/ruby-1.8.7-p352@siatka_demo/gems/rails-2.3.15/lib/commands/server.rb:111

Rendered rescues/_trace (118.2ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:58:02) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;36;1mRoom Load (1.9ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mLecturer Load (52.6ms)[0m   [0;1mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;35;1mGroup Load (10.9ms)[0m   [0mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;36;1mDepartment Load (0.7ms)[0m   [0;1mSELECT * FROM "departments" [0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 8) LIMIT 1[0m
Completed in 294ms (View: 225, DB: 66) | 200 OK [http://opensoftware.pl/]


Processing MainController#rezerwacje (for 188.113.109.165 at 2013-02-03 22:58:06) [GET]
  Parameters: {"commit"=>"PokaÅ¼", "room"=>{"sala"=>"15"}}
  [4;35;1mReservation Load (0.2ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-28') AND "reservations"."sala" = '15') [0m
  [4;36;1mReservation Load (0.1ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-29') AND "reservations"."sala" = '15') [0m
  [4;35;1mReservation Load (0.1ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-30') AND "reservations"."sala" = '15') [0m
  [4;36;1mReservation Load (0.2ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-01-31') AND "reservations"."sala" = '15') [0m
  [4;35;1mReservation Load (0.1ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-01') AND "reservations"."sala" = '15') [0m
  [4;36;1mReservation Load (0.1ms)[0m   [0;1mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-02') AND "reservations"."sala" = '15') [0m
  [4;35;1mReservation Load (0.1ms)[0m   [0mSELECT * FROM "reservations" WHERE ("reservations"."waznosc" IN ('2013-02-03') AND "reservations"."sala" = '15') [0m
Rendering template within layouts/main
Rendering main/rezerwacje
  [4;36;1mRoom Load (1.2ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mSetting Load (0.2ms)[0m   [0mSELECT * FROM "settings" LIMIT 1[0m
  [4;36;1mSchedule Load (0.2ms)[0m   [0;1mSELECT * FROM "schedules" WHERE ("schedules"."id" = 8) LIMIT 1[0m
Completed in 47ms (View: 32, DB: 3) | 200 OK [http://opensoftware.pl/main/rezerwacje?room%5Bsala%5D=15&commit=Poka%C5%BC]


Processing MainController#index (for 188.113.109.165 at 2013-02-03 22:58:09) [GET]
Rendering template within layouts/main
Rendering main/index
  [4;35;1mRoom Load (1.6ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (51.5ms)[0m   [0mSELECT * FROM "lecturers" GROUP BY lecture[0m
  [4;36;1mGroup Load (11.4ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.7ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 8) LIMIT 1[0m
Completed in 275ms (View: 208, DB: 66) | 200 OK [http://opensoftware.pl/]


Processing MainController#showroom (for 188.113.109.165 at 2013-02-03 22:58:12) [GET]
  Parameters: {"commit"=>"PokaÅ¼", "room"=>{"sala"=>"15"}}
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" WHERE ("settings"."id" = 1) [0m
  [4;35;1mPlan Load (7.8ms)[0m   [0mSELECT * FROM "plans" WHERE ("plans"."plan_id" = 8 AND "plans"."sala" = '15') [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT "groups".*, t0.plan_id as the_parent_record_id FROM "groups" INNER JOIN "groups_plans" t0 ON "groups".id = t0.group_id WHERE (t0.plan_id IN (13614,13616,13619,13620,13632,13633,13634,13638,13709,13935,13936,13937,14074,14385,14386,14387,14389,14390,14391,14400,14405,14409,14432,14542,14636,14706,14813,14829,14997,15060,15079,15088,15089,15090,15167)) [0m
Rendering template within layouts/main
Rendering main/showroom
  [4;35;1mRoom Load (1.1ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.1ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 8) LIMIT 1[0m
Completed in 69ms (View: 31, DB: 10) | 200 OK [http://opensoftware.pl/main/showroom?room%5Bsala%5D=15&commit=Poka%C5%BC]
  [4;36;1mRoom Load (1.5ms)[0m   [0;1mSELECT * FROM "rooms" [0m


Processing SiatkaController#index (for 188.113.109.165 at 2013-02-03 22:58:17) [GET]
Rendering template within layouts/siatka
Rendering siatka/index
  [4;35;1mRoom Load (1.2ms)[0m   [0mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "rooms" GROUP BY numer[0m
  [4;35;1mLecturer Load (40.9ms)[0m   [0mSELECT * FROM "lecturers" [0m
  [4;36;1mGroup Load (10.7ms)[0m   [0;1mSELECT * FROM "groups" GROUP BY nazwa[0m
  [4;35;1mDepartment Load (0.6ms)[0m   [0mSELECT * FROM "departments" [0m
  [4;36;1mSetting Load (0.2ms)[0m   [0;1mSELECT * FROM "settings" LIMIT 1[0m
  [4;35;1mSchedule Load (0.2ms)[0m   [0mSELECT * FROM "schedules" WHERE ("schedules"."id" = 8) LIMIT 1[0m
Completed in 276ms (View: 220, DB: 55) | 200 OK [http://opensoftware.pl/siatka]
  [4;36;1mPlan Load (1.1ms)[0m   [0;1mSELECT * FROM "plans" ORDER BY plans.id DESC LIMIT 1[0m
